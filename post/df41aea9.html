<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.6.2" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.6.2" type="image/png" sizes="32x32"><meta name="google-site-verification" content="CI1jqQ3Mhk0QSn61VHhjaeopJ0djgDy0IU_65qfQqiQ"><meta name="msvalidate.01" content="87144E235564BBBA9FFE3F19C36EEC0A"><meta name="baidu-site-verification" content="code-2yY2VTJ1Zi"><meta name="360-site-verification" content="479be47aa29500f8aeb1b40a9a67026f"><meta name="description" content="Linux基础知识">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux基础知识">
<meta property="og:url" content="http://garfielder.com/post/df41aea9.html">
<meta property="og:site_name" content="Garfield Blog">
<meta property="og:description" content="Linux基础知识">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2021-03-17T05:21:16.000Z">
<meta property="article:modified_time" content="2021-03-17T05:22:25.124Z">
<meta property="article:author" content="Garfield">
<meta property="article:tag" content="Linux">
<meta name="twitter:card" content="summary"><title>Linux基础知识 | Garfield Blog</title><link ref="canonical" href="http://garfielder.com/post/df41aea9.html"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.6.2"><link rel="dns-prefetch" href="https://hm.baidu.com"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement('script');
  hm.src = 'https://hm.baidu.com/hm.js?225e5d3b94db0afd1e42a378e377cbfb';
  hm.async = true;

  if (true) {
    hm.setAttribute('data-pjax', '');
  }
  var s = document.getElementsByTagName('script')[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":false,"scrollDownIcon":true},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"carbon","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: true,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: true,
  pjax: {"avoidBanner":false},
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"复制","copySuccess":"复制成功","copyError":"复制失败"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 5.4.0"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner header-inner--height header-inner--bgcolor"><nav class="header-nav header-nav--sticky"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">首页</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="javascript:;" onclick="return false;"><span class="header-nav-menu-item__icon"><i class="fas fa-book"></i></span><span class="header-nav-menu-item__text">文章</span></a><div class="header-nav-submenu"><div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link" href="/archives/"><span class="header-nav-submenu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-submenu-item__text">归档</span></a></div><div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link" href="/categories/"><span class="header-nav-submenu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-submenu-item__text">分类</span></a></div><div class="header-nav-submenu-item"><a class="header-nav-submenu-item__link" href="/tags/"><span class="header-nav-submenu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-submenu-item__text">标签</span></a></div></div></div></div><div class="header-nav-search"><span class="header-nav-search__icon"><i class="fas fa-search"></i></span><span class="header-nav-search__text">搜索</span></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content" id="content"><!-- Just used to judge whether it is an article page--><div id="is-post"></div><div class="post"><header class="post-header"><h1 class="post-title">Linux基础知识</h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2021-03-17</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2021-03-17</span></span><span class="post-meta-item post-meta-item--wordcount"><span class="post-meta-item__icon"><i class="far fa-file-word"></i></span><span class="post-meta-item__info">字数统计</span><span class="post-meta-item__value">18.6k</span></span><span class="post-meta-item post-meta-item--readtime"><span class="post-meta-item__icon"><i class="far fa-clock"></i></span><span class="post-meta-item__info">阅读时长</span><span class="post-meta-item__value">111分</span></span></div></header><div class="post-body">
        <h2 id="Linux基础教程"   >
          <a href="#Linux基础教程" class="heading-link"><i class="fas fa-link"></i></a><a href="#Linux基础教程" class="headerlink" title="Linux基础教程"></a>Linux基础教程</h2>
      
        <h3 id="一、常用命令使用"   >
          <a href="#一、常用命令使用" class="heading-link"><i class="fas fa-link"></i></a><a href="#一、常用命令使用" class="headerlink" title="一、常用命令使用"></a>一、常用命令使用</h3>
      
        <h4 id="1-1-常用命令使用"   >
          <a href="#1-1-常用命令使用" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-1-常用命令使用" class="headerlink" title="1.1 常用命令使用"></a>1.1 常用命令使用</h4>
      
        <h5 id="1-1-1-登录和退出Linux系统"   >
          <a href="#1-1-1-登录和退出Linux系统" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-1-1-登录和退出Linux系统" class="headerlink" title="1.1.1 登录和退出Linux系统"></a>1.1.1 登录和退出Linux系统</h5>
      <p><strong>1. 启动和登陆系统</strong></p>
<p>超级用户的用户名为root，密码在安装系统时已设定，系统启动成功后屏幕显示下面的提示：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">localhost login:</span><br></pre></td></tr></table></div></figure>

<p>这时输入超级用户名”root“，然后键入回车键，此时用户会在屏幕上看到输入口令的提示：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">localhost login:root</span><br><span class="line">Password:</span><br></pre></td></tr></table></div></figure>

<p>这时需要输入口令，输入口令时，口令不会在屏幕上显示出来，如果用户输入了错误的口令，就会在屏幕上看到下列信息：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">login incorrect.</span><br></pre></td></tr></table></div></figure>

<p>这时需要重新输入，当用户正确地输入用户名和口令后，就能合法地进入系统，屏幕显示 。</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost/root] #</span><br></pre></td></tr></table></div></figure>

<p>此时说明用户已经登录到系统中，可以进行操作了，这里”#”是超级用户的系统提示符，普通用户在建立了普通用户帐号以后就可以进行登录了 。</p>
<p><strong>2. 重新启动系统</strong></p>
<p>以root用户登录Linux操作系统后执行reboot命令可以重新启动linux系统。</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost/root] # reboot</span><br></pre></td></tr></table></div></figure>

<p><strong>3. 关闭系统</strong></p>
<p>shutdown 命令可以安全地关闭或重启 Linux 系统，它在系统关闭之前给系统上的所有登录用户提示一条警告信息 ，该命令还允许用户指定一个时间参数可以是一个精确的时间，也可以是从现在开始的一个时间段，精确时间的格式是 hh:mm 表示小时和分钟，时间段由 + 和分钟数表示，系统执行该命令后会自动进行数据同步的工作，该命令的一般格式 ：</p>
<p>shutdown [选项] [时间] [警告信息]</p>
<p>命令中各选项的含义为：</p>
<p>-k 并不真正关机而只是发出警告信息给所有用户</p>
<p>-r 关机后立即重新启动</p>
<p>-h 关机后不重新启动</p>
<p>-f 快速关机重启动时跳过 fsck</p>
<p>-n 快速关机不经过 init 程序</p>
<p>-c 取消一个已经运行的 shutdown </p>
<p>例 1 ：系统在十分钟后关机并且马上重新启动。</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> shutdown -r +10</span></span><br></pre></td></tr></table></div></figure>

<p>例 2 ：系统马上关机并且不重新启动。</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> shutdown -h now</span></span><br></pre></td></tr></table></div></figure>


        <h5 id="1-1-2-文件和目录操作命令"   >
          <a href="#1-1-2-文件和目录操作命令" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-1-2-文件和目录操作命令" class="headerlink" title="1.1.2 文件和目录操作命令"></a>1.1.2 文件和目录操作命令</h5>
      <p><strong>1. ls命令</strong></p>
<p>这个命令就相当于 dos 下的 dir 命令一样，也是 Linux 控制台命令中最为重要几个命令之一。ls 最常用的参数有三个：-a、-l 和 –F 。</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -a</span><br></pre></td></tr></table></div></figure>

<p>Linux 系统上的文件以.开头的文件被系统视为隐藏文件，仅用 ls 命令是看不到他们的，而用 ls –a 除了显示一般文件名外，连隐藏文件也会显示出来。</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l</span><br></pre></td></tr></table></div></figure>

<p>这个命令可以使用长格式显示文件内容。如果需要察看更详细的文件资料就要用到 ls -l 这个指令 。</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -F</span><br></pre></td></tr></table></div></figure>

<p>在列出的文件（目录）名称后加一符号，例如可执行文件加 “*”，目录则加 “/“。</p>
<p><strong>2. cd命令</strong></p>
<p>cd 这个命令是用来进出目录的，它的使用方法和在 dos 下没什么两样，但和dos 不同的是 Linux 的目录对大小写是敏感的，如果大小写拼写有误，你的 cd操作是成功不了的。另外，cd 如果直接输入，cd 后面不加任何东西会回到使用者自己的 Home 目录。假设如果是 root 那就是回到/root，这个功能同 cd ~是一样的 。</p>
<p><strong>3. mkdir、rmdir</strong></p>
<p>mkdir命令用来建立新的目录，如输入如下命令：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir work</span><br></pre></td></tr></table></div></figure>

<p>将在当前目录下新建一个work目录。</p>
<p>rmdir用来删除已建立的目录，如输入如下命令：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rmdir work</span><br></pre></td></tr></table></div></figure>

<p>将删除已存在的空目录work。</p>
<p><strong>4. cp</strong></p>
<p>cp 这个命令相当于 dos 下面的 copy 命令，具体用法是：</p>
<p>cp –r 源文件(source) 目的文件(target)</p>
<p>参数 r 是指连同源文件中的子目录一同拷贝。</p>
<p><strong>5. rm</strong></p>
<p>rm 这个命令是用来删除文件的，rm 命令常用的参数有三个-i、-r、-f<br>比如我现在要删除一个名字为 text 的一个文件，输入如下命令：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -i test</span><br></pre></td></tr></table></div></figure>

<p>系统会询问我们是否要删除 test 文件，敲了 “y/n” 确认是否要删除 test 文件。</p>
<p>rm – r 目录名：这个操作可以连同这个目录下面的子目录都删除，功能比上面讲到的 rmdir 更强大，不仅可能删除指定的目录，而且可以删除该目录下所有文件和子目录 。</p>
<p>rm – f 文件名：这个操作可以不经确认强制删除文件。</p>
<p><strong>6. mv</strong></p>
<p>mv 这个命令的功能是移动目录或文件，引申的功能是给目录或文件重命名，比如：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv /tmp/xxx.tar /root</span><br></pre></td></tr></table></div></figure>

<p>该命令将/tmp 目录下的 xxx.tar 文件移动到/root 目录下。</p>
<p>而：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv aaa.tar bbb.tar</span><br></pre></td></tr></table></div></figure>

<p>则是将当前目录下的文件 aaa.tar 更名为 bbb.tar 。</p>
<p><strong>7. cat</strong></p>
<p>cat 这个命令是 linux 中非常重要的一个命令，它的功能是显示或连结一般的ascii 文本文件。它的用法如下 ：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat text</span><br></pre></td></tr></table></div></figure>

<p>该命令显示 text 这个文件的内容 。</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat file1 file2</span><br></pre></td></tr></table></div></figure>

<p>该命令依顺序显示 file1,file2 的内容 。</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat file1 file2&gt;file3</span><br></pre></td></tr></table></div></figure>

<p>该命令把 file1，file2 的内容结合起来再重定向&gt;到 file3 文件中 。</p>
<p><strong>8. more</strong></p>
<p>more 是显示一般文本文件的指令，如果一个文本文件太长了超过一个屏幕的画面，用 cat 来看实在是不理想，就可以试试 more。用法如下 ：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">more file1</span><br></pre></td></tr></table></div></figure>

<p><strong>9. pwd</strong></p>
<p>pwd 这个命令的作用是显示用户当前的工作路径，直接输入 pwd 即可 。</p>

        <h5 id="1-1-3-用户及用户组管理命令"   >
          <a href="#1-1-3-用户及用户组管理命令" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-1-3-用户及用户组管理命令" class="headerlink" title="1.1.3 用户及用户组管理命令"></a>1.1.3 用户及用户组管理命令</h5>
      <p><strong>1. useradd</strong></p>
<p>useradd 命令可以创建一个新的用户帐号，其最基本用法为 ：</p>
<p>useradd  用户名</p>
<p>如输入以下命令：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd newuser</span><br></pre></td></tr></table></div></figure>

<p>系统将创建一个新用户，newuser 该用户的 Home 目录为/home/newuser </p>
<p>useradd 命令的参数较多，常用的组合为 ：</p>
<p>useradd 用户名 -g 组名 –G 组名 -d Home 目录名 -p 密码 </p>
<p>其中：</p>
<p>-g 指定该用户的首要组</p>
<p>-G 指定该用户的次要组</p>
<p>-d 指定该用户的 Home 目录</p>
<p>-p 指定该用户的密码 </p>
<p>如输入以下命令：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd oracle –g oinstall –G dba –d /home/oracle –p ora123</span><br></pre></td></tr></table></div></figure>

<p>系统将创建一个用户 oracle，oracle 用户的首要组为 oinstall，次要组为 dba，Home 目录为/home/oracle，密码为 ora123。</p>
<p><strong>2. userdel</strong></p>
<p>userdel 命令用于删除一个已存在的帐号，其用法为 ：</p>
<p>userdel  用户名</p>
<p><strong>3. groupadd</strong></p>
<p>groupadd 命令可以创建一个新的用户组，其最基本用法为 ：</p>
<p>groupadd  组名</p>
<p>如输入以下命令：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupadd newgroup</span><br></pre></td></tr></table></div></figure>

<p>系统将创建一个新的用户组 newgroup 。</p>
<p><strong>4. groupdel</strong></p>
<p>groupdel 命令用于删除一个已存在的用户组，其用法为 ：</p>
<p>groupdel  组名</p>
<p><strong>5. passwd</strong></p>
<p>出于系统安全考虑，Linux 系统中的每一个用户除了有其用户名外还有其对应的用户口令，用户可以随时用 passwd 命令改变自己的口令。该命令的一般格式为 ：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd</span><br></pre></td></tr></table></div></figure>

<p>输入该命令后，按系统提示依次输入密码和密码确认后，即可完成用户密码的修改 。</p>
<p>此外，超级用户还可以修改其他用户的口令，命令如下 ：</p>
<p>passwd  用户名</p>
<p><strong>6. su</strong></p>
<p>su 命令这个命令非常重要，它可以让一个普通用户拥有超级用户或其他用户的权限，也可以让超级用户以普通用户的身份做一些事情。普通用户使用这个命令时必须有超级用户或其他用户的口令。如要离开当前用户的身份，可以键入 exit 命令。su 命令的一般形式为：</p>
<p>su -用户名</p>
<p><strong>7. chmod</strong></p>
<p>chmod 命令是非常重要的，用于改变文件或目录的访问权限。该命令有两种用法：一种是包含字母和操作符表达式的文字设定法，另一种是包含数字的数字设定法 。</p>
<p>由于数字设定法不太直观，本文不做介绍，文字设定法的用法如下 ：</p>
<p>chmod [who] [+ | - | =] [mode] 文件名 </p>
<p>命令中各选项的含义为 ：</p>
<ol>
<li><p>操作对象 who 可以是下述字母中的任一个或者它们的组合 ：</p>
<p>u 表示用户(user) ，即文件或目录的所有者 </p>
<p>g 表示同组(group)用户 ，即与文件属主有相同组 ID 的所有用户 </p>
<p>o 表示其他(others)用户 </p>
<p>a 表示所有(all)用户，它是系统默认值 </p>
</li>
<li><p>操作符号可以是：</p>
<p>+添加某个权限</p>
<p>-取消某个权限</p>
<p>=赋予给定权限，并取消其他所有权限</p>
</li>
<li><p>mode 表示权限，常用的参数有 ：</p>
<p>r 可读</p>
<p>w 可写</p>
<p>x 可执行</p>
</li>
</ol>
<p>举例：</p>
<ol>
<li><p>将文件 script 的权限设为可执行。命令如下 ：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod =rx text</span><br></pre></td></tr></table></div></figure>

<p>执行成功后，用 ls -l script 命令查看文件属性的结果如下 ：</p>
<p>-r-xr-xr-x   1  user  group  0 Feb 10 09:42 script</p>
</li>
<li><p>将文件 text 的权限设为：文件属主可读、可写、可执行，与文件属主同组的用户可读，其他用户不可读。命令如下 ：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod u=rwx,g=r,o= text</span><br></pre></td></tr></table></div></figure>

<p>执行成功后，用 ls –l text 命令查看文件属性的结果如下 ：</p>
<p>-rwxr—–   1  user  group  0 Feb 10 09:42 text</p>
</li>
</ol>
<p><strong>8. chown</strong></p>
<p>chown 用于更改某个文件或目录的属主和属组，这个命令也很常用。例如root 用户把自己的一个文件拷贝给用户 oracle，为了让用户 oracle 能够存取这个文件，root 用户应该把这个文件的属主设为 oracle，否则用户 oracle无法存取这个文件。chown 的基本用法为 ：</p>
<p>chown [用户:组] 文件 </p>
<p>举例：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chown oracle:dba text</span><br></pre></td></tr></table></div></figure>

<p>该命令将 text 文件的属主和属组分别改为 oracle 和 dba 。</p>

        <h5 id="1-1-4-进程及任务管理命令"   >
          <a href="#1-1-4-进程及任务管理命令" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-1-4-进程及任务管理命令" class="headerlink" title="1.1.4 进程及任务管理命令"></a>1.1.4 进程及任务管理命令</h5>
      <p>Linux 系统上所有运行的东西都可以称之为一个进程。每个用户任务、每个系统管理守护进程都可以称之为进程。Linux 用分时管理方法使所有的任务共同分享系统资源。以下将介绍一些常用的查看和控制进程的命令。</p>
<p><strong>1. ps</strong></p>
<p>ps 命令是最基本同时也是非常强大的进程查看命令。使用该命令可以查看有哪些进程正在运行以及运行的状态，进程是否结束，进程有没有僵死，哪些进程占用了过多的资源等等 。</p>
<p>该命令的基本用法如下：</p>
<p>ps [选项] </p>
<p>其中常用的选项有：</p>
<p>-e 显示所有进程 </p>
<p>-f 全格式 </p>
<p>-l 长格式 </p>
<p><strong>2. top</strong></p>
<p>top 命令和 ps 命令的基本作用是相同的，显示系统当前的进程和其他状况。但是 top 是一个动态显示过程，即可以通过用户按交互来不断刷新当前状态。top 的命令参数并不重要，简单的输入 top 命令即可查看系统运行状态。</p>
<p>top 命令执行过程中可以使用交互命令。从使用角度来看，熟练的掌握这些命令比掌握选项还重要一些。这些命令都是单字母的，常用的命令有 ：</p>
<p>&lt;空格&gt; 立即刷新显示</p>
<p>h 或者? 显示帮助画面给出一些简短的命令总结说明</p>
<p>m 切换显示内存信息</p>
<p>t 切换显示进程和 CPU状态信息</p>
<p>c 切换显示命令名称和完整命令行</p>
<p>M 根据驻留内存大小进行排序</p>
<p>P 根据 CPU使用百分比大小进行排序</p>
<p>q 退出 </p>
<p><strong>3. kill</strong></p>
<p>kill 命令可以用于终止后台进程。kill 命令是通过向进程发送指定的信号来结束进程的。kill 命令的语法格式很简单，大致有以下两种方式 ：</p>
<ol>
<li><p>kill [-s 信号] 进程号 </p>
<p>其中，发出的信号既可以是信号名也可以对应数字 。</p>
<p>如 kill -9 1234 命令，将终止 PID(进程号)为 1234 的进程 。</p>
</li>
<li><p>kill -l </p>
<p>该命令显示信号列表 </p>
</li>
</ol>
<p><strong>4. cron</strong></p>
<p>cron 命令用来实现定时任务的完成，如每日执行一次的任务（进程）。cron 命令是不应该手工启动的。一般情况下，cron 命令在系统启动时就由一个 shell 脚本自动启动。启动后，cron 命令会搜索/var/spool/cron 目录，寻找以/etc/passwd 文件中的用户名命名的 crontab 文件，被找到的这种文件将载入内存。例如一个用户名为 user 的用户它所对应的 crontab 文件就应该是/var/spool/cron/user。也就是说，以该用户命名的 crontab文件存放在/var/spool/cron 目录下面。cron 命令还将搜索/etc/crontab 文件，这个文件是用不同的格式写成的。cron 启动以后它将首先检查是否有用户设置了 crontab文件，如果没有就转入休眠状态，释放系统资源。它每分钟醒过来一次查看当前是否有需要运行的命令 。</p>
<p>可以使用 crontab –l 命令查看目前已经存在的 cron 任务 。</p>

        <h5 id="1-1-5-磁盘及文件系统管理命令"   >
          <a href="#1-1-5-磁盘及文件系统管理命令" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-1-5-磁盘及文件系统管理命令" class="headerlink" title="1.1.5 磁盘及文件系统管理命令"></a>1.1.5 磁盘及文件系统管理命令</h5>
      <p>管理文件系统其实是相当复杂的工作，本文将只介绍日常维护需要的一些管理命令，主要内容有：挂装和卸载硬盘分区等 。</p>
<p><strong>1. df</strong></p>
<p>df命令可以显示目前磁盘剩余的磁盘空间，常用的参数为-k，如：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df -k</span><br></pre></td></tr></table></div></figure>

<p>该语句将显示各分区的磁盘空间使用情况 。</p>
<p><strong>2. mount和umount</strong></p>
<p>mount 命令有很多参数，其中大多数都不会在日常工作中用到。mount 命令最常见的用法如下所示 ：</p>
<p>mount [选项] 设备 目录 </p>
<p>其中 最常用的选项是 ：</p>
<p>-a 把/etc/fstab 文件中列出的文件系统都挂装上。</p>
<p>挂装软驱和光驱的命令比较简单，直接输入以下命令即可 ：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mount /mnt/cdrom</span><br><span class="line">mount /mnt/floppy</span><br></pre></td></tr></table></div></figure>

<p>umount 命令用于卸载一个文件系统，命令的格式如下：</p>
<p>umount [ -f ] directory</p>
<p>其中，directory 是准备卸载的目录名。</p>
<p>umount 命令有一个不足之处：如果文件系统正在使用中（也就是说有人在那个分区上打开了文件），就无法把这个文件系统卸载下来，这时可以使用和-f参数强制执行卸载操作，当然，这种操作可能会造成用户数据的丢失。如： </p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">umount -f /mnt/cdrom</span><br></pre></td></tr></table></div></figure>

<p>该命令将强制卸载挂装在/mnt/cdrom 目录下的文件系统 。</p>

        <h5 id="1-1-6-软件安装命令"   >
          <a href="#1-1-6-软件安装命令" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-1-6-软件安装命令" class="headerlink" title="1.1.6 软件安装命令"></a>1.1.6 软件安装命令</h5>
      <p><strong>1. tar</strong></p>
<p>tar 命令用于把多个文件合并于一个档案文件中，并提供分解的合并后的档案文件的功能。它独立于压缩工具，因此可以选择在合并前是否压缩。tar 命令的基本用法为 ：</p>
<p>tar [选项] 文件名</p>
<p>常用的选项包括：</p>
<p>-c 创建一个新的档案文件</p>
<p>-t 查看档案文件的内容</p>
<p>-x 分解档案文件的内容</p>
<p>-f 指定档案文件的名称</p>
<p>-v 显示过程信息</p>
<p>-z 采用压缩方式 </p>
<p>举例：</p>
<ol>
<li><p>tar -czf oracle.tar.gz /u01/app/oracle /etc/oratab /home/oracle </p>
<p>该命令将/u01/app/oracle 目录下的所有文件、 /etc/oratab 文件和/home/oracle 目录下的所有文件合并到 oracle.tar 文件中，并采用压缩方式 。</p>
</li>
<li><p>tar -tzf oracle.tar.gz </p>
<p>该命令列出归档文件 oracle.tar 中的所有文件列表 。</p>
</li>
<li><p>tar –xzvf oracle.tar.gz </p>
<p>该命令将归档文件分解并解压缩到原有文件的路径中 。</p>
</li>
</ol>
<p><strong>2. rpm</strong></p>
<p>rpm 命令的功能有很多，在这里我们只介绍如何利用 rpm 安装和查询已安装的软件 。</p>
<ol>
<li><p>安装</p>
<p>rpm 安装软件包的基本语法如下 ：</p>
<p>rpm -i rpm 包名 </p>
<p>例如：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -i tomcat4.rpm</span><br></pre></td></tr></table></div></figure>

<p>该命令将安装 Tomcat 软件并进行相关系统配置 。</p>
</li>
<li><p>升级</p>
<p>rpm 升级软件包的基本语法如下 ：</p>
<p>rpm -U rpm 包名 </p>
<p>例如：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -U tomcat4.rpm</span><br></pre></td></tr></table></div></figure>

<p>该命令将升级 Tomcat 软件并进行相关系统配置 。</p>
</li>
<li><p>查看已安装的软件</p>
<p>有的时候，了解系统中都已经安装了哪些软件包以及它们的用途是很有用的，RPM 的查询参数就可以做到这一点 。</p>
<p>要想列出已经安装的全部软件包，可以通过以下命令 ：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa</span><br></pre></td></tr></table></div></figure>

<p>可以使用 grep 命令指定软件包的名称（或者部分名称），如下所示：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa | grep &#x27;tomcat&#x27;</span><br></pre></td></tr></table></div></figure>

<p>该命令将列出包名中包含 tomcat 的软件包 。</p>
<p>此外：要想找出某个特定的文件到底是属于哪个软件包的，可以输入 ：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -qf filename</span><br></pre></td></tr></table></div></figure>

<p>其中 filename 是准备要查找其归属的文件名称 。</p>
<p>要想查出某个已经安装的软件包的功能，可以用如下命令 ：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -qi packagename</span><br></pre></td></tr></table></div></figure>

<p>其中，packagename 是要查找其用途的软件包名称 。</p>
</li>
<li><p>删除已安装的软件</p>
<p>使用 RPM 删除软件包就像安装它们一样简单。大多数情况下，用户只需要输入命令 ：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -e packagename</span><br></pre></td></tr></table></div></figure>

<p>其中，packagename是要查删除的软件包名称。</p>
</li>
</ol>

        <h3 id="二、文件查看-编辑方法介绍"   >
          <a href="#二、文件查看-编辑方法介绍" class="heading-link"><i class="fas fa-link"></i></a><a href="#二、文件查看-编辑方法介绍" class="headerlink" title="二、文件查看/编辑方法介绍"></a>二、文件查看/编辑方法介绍</h3>
      
        <h4 id="2-1-cat命令介绍"   >
          <a href="#2-1-cat命令介绍" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-1-cat命令介绍" class="headerlink" title="2.1 cat命令介绍"></a>2.1 cat命令介绍</h4>
      <p>cat 命令的原含义为连接 （concatenate）， 用于连接多个文件内容并输出到标准输出流中（标准输出流默认为屏幕）。实际运用过程中，我们常使用它来显示文件内容。如果您熟悉 MS-DOS 下的 type 命令，相信不难掌握 cat 命令。该命令的常用示例如下 ：</p>
<p>cat file1.txt                              显示 file1.txt 文件的内容 ；</p>
<p>cat file1.txt file2.txt               显示 file1.txt 和 file2.txt 文件的内容 ；</p>
<p>cat -n file1.txt                         显示 file1.txt 文件的内容 同时显示行号 ；</p>

        <h4 id="2-2-vi命令"   >
          <a href="#2-2-vi命令" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-2-vi命令" class="headerlink" title="2.2 vi命令"></a>2.2 vi命令</h4>
      <p>vi 是 “Visual Interface” 的简称，它在 Linux 上的地位就仿佛 Edit 程序在 DOS上一样。它可以执行输出、删除、查找、替换、块操作等众多文本操作，而且用户可以根据自己的需要对其进行定制，这是其他编辑程序所没有的。</p>
<p>vi 不是一个排版程序，它不像 Word 或 WPS 那样可以对字体、格式、段落等其他属性进行编排，它只是一个文本编辑程序。</p>
<p>vi 没有菜单，只有命令，且命令繁多，限于篇幅，本文只介绍常用的命令。</p>
<p>vi 有三种基本工作模式：命令行模式，文本输入模式和末行模式 。</p>
<p>命令行模式：</p>
<p>任何时候 不管用户处于何种模式，只要按一下“ESC”键，即可使 vi 进入命令行模式；当在 shell 环境下输入 vi 命令启动 vi 编辑器时，也是处于该模式下 。</p>
<p>在该模式下，用户可以输入各种合法的 vi 命令，用于管理自己的文档。此时从键盘上输入的任何字符都被当作编辑命令来解释，若输入的字符是合法的 vi 命令，则 vi 在接受用户命令之后完成相应的动作（但需注意的是，所输入的命令并不在屏幕上显示出来）。若输入的字符不是 vi 的合法命令，vi 会响铃报警 。</p>
<p>文本输入模式：</p>
<p>在命令模式下输入插入命令 i、附加命令 a、打开命令 o、修改命令 c、取代命令 r 或替换命令 s 都可以进入文本输入模式。在该模式下，用户输入的任何字符都被 vi 当做文件内容保存起来，并将其显示在屏幕上。在文本输入过程中，若想回到命令模式下，按“ESC”键即可。</p>
<p>末行模式：</p>
<p> 在命令模式下用户按 “:” 键即可进入末行模式下，此时 Vi 会在显示窗口的最后一行（通常也是屏幕的最后一行）显示一个 “:” 作为末行模式的提示符，等待用户输入命令。多数文件管理命令都是在此模式下执行的（如把编辑缓冲区的内容写到文件中等）。末行命令执行完后，vi 自动回到命令模式。</p>
<p>若在末行模式下输入命令过程中改变了主意，可按 “ESC” 键，或用退格键将输入的命令全部删除之后，再按一下退格键，即可使 vi 回到命令模式下 。</p>

        <h5 id="2-2-1-vi的进入与退出"   >
          <a href="#2-2-1-vi的进入与退出" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-2-1-vi的进入与退出" class="headerlink" title="2.2.1 vi的进入与退出"></a>2.2.1 vi的进入与退出</h5>
      <p>在 shell 模式下，键入 vi 及需要编辑的文件名，即可进入 vi。例如 ：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi example.txt</span><br></pre></td></tr></table></div></figure>

<p>即可编辑 example.txt 文件。如果该文件存在，则编辑界面中会显示该文件的内容，并将光标定位在文件的第一行；如果文件不存在，则编辑界面中无任何内容。如果需要在进入 vi 编辑界面后，将光标置于文件的第 n 行，则在 vi命令后面加上 “+n” 参数即可。例如需要从 example.txt 文件的第 5 行开始显示，则使用如下命令：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi +5 example.txt</span><br></pre></td></tr></table></div></figure>

<p>退出 vi 时，需要在末行模式中输入退出命令 “q”。如果在文本输入模式下，首先按 “ESC” 键进入命令模式，然后输入 “:” 进入末行模式。在末行模式下，可使用如下退出命令：</p>
<p>:q – 直接退出。如果在文本输入模式下修改了文档内容，则不能退出。</p>
<p>:wq – 保存后退出。</p>
<p>:x – 同“wq”。</p>
<p>:q! – 不保存内容，强制退出。</p>

        <h5 id="2-2-2-vi中显示行号"   >
          <a href="#2-2-2-vi中显示行号" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-2-2-vi中显示行号" class="headerlink" title="2.2.2 vi中显示行号"></a>2.2.2 vi中显示行号</h5>
      <p>在末行模式下，输入如下命令：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set number</span><br></pre></td></tr></table></div></figure>

<p>可使 vi 在编辑界面中显示行号。</p>
<p>此外，在末行模式下，可使用如下 “nu” 命令（number）的简写 来显示光标所在行的行号及该行的内容 。</p>

        <h5 id="2-2-3-光标移动操作"   >
          <a href="#2-2-3-光标移动操作" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-2-3-光标移动操作" class="headerlink" title="2.2.3 光标移动操作"></a>2.2.3 光标移动操作</h5>
      <p>全屏幕文本编辑器中，光标的移动操作无疑是最经常使用的操作了。用户只有熟练地使用移动光标的这些命令，才能迅速准确地到达所期望的位置处进行编辑。</p>
<p>vi 中的光标移动既可以在命令模式下，也可以在文本输入模式下，但操作的方法不尽相同。</p>
<p>在文本输入模式下，可直接使用键盘上的四个方向键移动光标；在命令模式下，有很多移动光标的方法。不但可以使用四个方向键来移动光标，还可以用 h、j、k、l 这四个键代替四个方向键来移动光标，这样可以避免由于不同机器上的不同键盘定义所带来的矛盾，而且使用熟练后可以手不离开字母键盘位置就能完成所有操作，从而提高工作效率。</p>
<p>以下命令均在命令行模式下完成光标移动 ：</p>
<p>h – 光标左移，如果在按 h 命令前输入数字 n，则光标左移 n 个字符；</p>
<p>l – 光标右移，如果在按 l 命令前输入数字 n，则光标右移 n 个字符；</p>
<p>j – 光标上移，如果在按 j 命令前输入数字 n，则光标上移 n 个字符；</p>
<p>k – 光标下移，如果在按 k 命令前输入数字 n，则光标 xia 移 n 个字符；</p>
<p>0 – 零 光标移到行首；</p>
<p>$ – 光标移到行尾；</p>
<p>H – 光标移到屏幕上显示的第一行（并不一定是文件头）；</p>
<p>L – 光标移到屏幕上显示的最后一行（并不一定是文件尾）；</p>
<p>M – 光标移到屏幕的中间一行；</p>
<p>nG – 光标移到第 n 行；</p>
<p>w或 W – 将光标右移至下一个单词的词首；</p>
<p>e 或 E – 如果光标起始位置处于单词内（即非单词尾处），则该命令将把光标移到本单词词尾；如果光标起始位置处于单词尾，则该命令将把光标移动到下一个单词的词尾；</p>
<p>b 或 B – 如果光标处于所在单词内（即非单词首）则该命令将把光标移至本单词词首；如果光标处于所在单词的词首，则该命令将把光标移到上一个单词的词首；</p>
<p>Ctrl+G – 状态命令，显示当前编辑文档的状态。包括正在编辑的文件名、是否修改过、当前行号、文件的行数以及光标之前的行占整个文件的百分比。此外，也可以通过以下末行模式下的命令完成光标在整个文件中的移动操作；</p>
<p>:n – 光标移到文件的第 n 行；</p>
<p>:$ – 光标移到文件的最后一行； </p>

        <h5 id="2-2-4-文本插入操作"   >
          <a href="#2-2-4-文本插入操作" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-2-4-文本插入操作" class="headerlink" title="2.2.4 文本插入操作"></a>2.2.4 文本插入操作</h5>
      <p>在命令模式下，用户输入的任何字符都被 vi 当作命令加以解释执行，如果用户要将输入的字符当作是文本内容时，则首先应将 vi 的工作模式从命令模式切换到文本输入模式。切换的方式是使用下面的命令：</p>
<p><strong>1. 插入（Insert）命令</strong></p>
<p>vi提供了两个插入命令：i和I。</p>
<ol>
<li>i 命令 – 插入文本从光标所在位置前开始，并且插入过程中可以使用 Backspace 键删除错误的输入。此时 vi 处于插入状态 屏幕最下行显示 “–INSERT–” （插入）字样。</li>
<li>I 命令 – 该命令是将光标移到当前行的行首，然后在其前插入文本。</li>
</ol>
<p><strong>2. 附加（append）命令</strong></p>
<p>vi提供了两个附加插入命令：a和A。</p>
<ol>
<li>a 命令 – 该命令用于在光标当前所在位置之后追加新文本，新输入的文本放在光标之后，在光标后的原文本将相应地向后移动，光标可在一行的任何位置 。</li>
<li>A 命令 – 该命令与 a 命令不同的是，A 命令将把光标挪到所在行的行尾，从那里开始插入新文本。当输入 A 命令后，光标自动移到该行的行尾。</li>
</ol>
<p>a和A命令是把文本插入到行尾的唯一方法。</p>
<p><strong>3. 打开（open）命令</strong></p>
<p>不论是 Insert 命令也好，还是 append 命令也好，所插入的内容都是从当前行中的某个位置开始的。若我们希望在某行之前或某行之后插入一些新行，则应使用 open 命令。</p>
<p>vi提供了两个打开命令：o和O。</p>
<ol>
<li>o 命令 – 该命令将在光标所在行的下面新开一行，并将光标置于该行的行首，等待输入文本。要注意当使用 Backspace 删除字符时只能删除从插入模式开始的位置以后的字符，对于以前的字符不起作用。</li>
<li>O 命令 和 o 命令相反，O 命令是在光标所在行的上面插入一行，并将光标置于该行的行首，等待输入文本。</li>
</ol>

        <h5 id="2-2-5-文本修改操作"   >
          <a href="#2-2-5-文本修改操作" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-2-5-文本修改操作" class="headerlink" title="2.2.5 文本修改操作"></a>2.2.5 文本修改操作</h5>
      <p>在命令模式下可以使用 vi 提供的各种有关命令对文本进行修改，包括对文本内容的删除、复制、取代和替换等。</p>
<p><strong>1. 文本删除/移动</strong></p>
<p>在编辑文本时，经常需要删除一些不需要的文本，我们可以用 Backspace 键将输错或不需要的文本删除，但此时有一个限制就是当删到行头之后，再想删上面那行的内容是不可能的。</p>
<p>在命令模式下，vi 提供了许多删除命令。这些命令大多是以 d 开头的。常用的有 ：</p>
<ol>
<li><p>删除单个字符</p>
<p>x – 删除光标处的字符。若在 x 之前加上一个数字 n，则删除从光标所在位置开始向右的 n 个字符。</p>
<p>X – 删除光标前面的那个字符。若在 X之前加上一个数字 n，则删除从光标前面那个字符开始向左的 n 个字符。</p>
<p>显然这两个命令是删除少量字符的快捷方法。</p>
</li>
<li><p>删除多个字符</p>
<p>dd – 删除光标所在的整行。在dd钱可加上一个数字n，表示删除当前行及其后n-1行的内容。</p>
<p>D或d$ – 两命令功能一样，都是删除从光标所在处开始到行尾的内容 。</p>
<p>d0 – 删除从光标前一个字符开始到行首的内容 。</p>
<p>dw – 删除一个单词。若光标处在某个词的中间，则从光标所在位置开始删至词尾。同 dd 命令一样，可在 dw 之前加一个数字 n。表示删除 n 个指定的单词。</p>
<p>如果用户不小心进行了误删除操作，也不要紧，vi 提供了恢复误操作的命令，并且可以将恢复的内容移动，放在文本的任何地方。恢复命令用 “np”， 其中 n 为需要恢复的次数。例如使用 dd 命令删除了一行内容，然后使用 ”2p“命令，则被删除的内容会被重新插入两遍。</p>
<p>通过 dd 命令及 p 命令的结合使用，可以很方便的实现文本行的移动操作 。</p>
</li>
</ol>
<p><strong>2. 文本复制命令</strong></p>
<p>yy – 复制光标所在的整行。在yy前可加上一个数字n，表示复制当前行及其后n-1行的内容。</p>
<p>文本行复制后，通过使用上面介绍的”p“命令，可以将文本行粘贴到任何地方。</p>
<p>dd、yy及p命令在vi中的作用，类似于Windows中图形编辑程序的”剪切“、”复制“及”粘贴“命令。</p>
<p><strong>3. 取消上一命令</strong></p>
<p>取消上一命令（Undo），也称复原命令，是非常有用的命令，它可以取消前一次的误操作或不合适的操作对文件造成的影响，使之回复到这种误操作或不合适操作被执行之前的状态。</p>
<p> 取消上一命令有两种形式，在命令模式下键入字符 u 和 U。它们的功能都是取消刚才输入的命令，恢复到原来的情况。小写 u 和大写 U 在具体细节上有所不同，二者的区别在于，大写 U命令的功能是恢复到误操作命令前的情况，即如果插入命令后使用 U 命令，就删除刚刚插入的内容；如果删除命令后使用 U 命令，就相当于在光标处又插入刚刚删除的内容。这里把所有修改文本的命令都视为插入命令。也就是说，U 命令只能取消前一步操作，如果用 U命令撤消了前一步操作，当再按 U 键时，并不是撤消再前一步的操作，而是撤消了刚才 U命令执行的操作，也就是又恢复到第一次使用 U 命令之前的状态，结果是什么都没做。而小写 u 命令的功能是把当前行恢复成被编辑前的状态，而不管此行被编辑了多少次。</p>
<p><strong>4. 重复命令</strong></p>
<p> 重复命令也是一个非常常用的命令。在文本编辑中经常会碰到需要机械地重复一些操作，这时就需要用到重复命令。它可以让用户方便地再执行一次前面刚完成的某个复杂的命令。</p>
<p>重复命令只能在命令模式下工作，在该模式下按 ”.“  键既可。执行一个重复命令时，其结果是依赖于光标当前位置的。</p>

        <h5 id="2-2-6-文本搜索与替换操作"   >
          <a href="#2-2-6-文本搜索与替换操作" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-2-6-文本搜索与替换操作" class="headerlink" title="2.2.6 文本搜索与替换操作"></a>2.2.6 文本搜索与替换操作</h5>
      <p>在进行文本编辑的时候，您可以需要搜索或定位特定的单词或单词的一部分。vi 编辑器有向前或向后搜索指定模式的功能。</p>
<p>”/“ 是 vi 编辑器的模式搜索命令。键入 ”/“ 后，屏幕的底部会出现一行，同时一个斜扛会出现在底行的行首上，且光标被放置在斜扛之后。此时，您可以在光标位置键入你需要搜索的模式。输入完成并按下 ENTER 键后，编辑器将开始从光标所在的位置起向文件尾部搜索你键入的模式。如果输入的模式被找到，光标将停留在找到的模式上。在找到一个匹配的模式后，如果您还需要搜索下一个匹配的模式。使用命令 “n” 即可；如果需要找到上一个匹配的模式，则使用 “N” 命令即可。</p>
<p>此外，“?”  命令也是模式搜索命令。与 “/” 的区别在于： “/” 是从光标当前所在位置向文件尾部搜索，而 “?” 命令则是由光标当前所在位置向文件头部搜索。</p>
<p>文本替换操作需要使用末行模式进行操作，即所有文本替换操作命令均以“：”开头。</p>
<p>文本替换命令的格式为：</p>
<p>:s/text1/text2 – 用于将光标所在段落搜索到的第一个 “text1” 替换为 “text2”；</p>
<p>:s/text1/text2/g – 用于将光标所在段落的所有 “text1” 替换为 “text2”；</p>
<p>:m,ns/text1/text2/g – 用于将从 m 行开始至 n 行结束的所有搜索到的 “text1”替换为 “text2”。 其中可以使用$表示末行，即 “1,$” 表示替换文档中的所有符合条件的字符。</p>

        <h4 id="2-3-head及tail命令介绍"   >
          <a href="#2-3-head及tail命令介绍" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-3-head及tail命令介绍" class="headerlink" title="2.3 head及tail命令介绍"></a>2.3 head及tail命令介绍</h4>
      <p>当需要查看一个文本文件的头部或尾部时，head 命令及 tail 命令可以非常方便的完成该操作。head 命令用于查看一个文本文件的开头部分；而 tail 命令则用于显示文本文件的末尾几行。这两个命令举例如下：</p>
<p>head example.txt  显示文件 example.txt 的前十行内容 ；</p>
<p>head -n 20 example.txt  显示文件 example.txt 的前二十行内容 ；</p>
<p>tail example.txt  显示文件 example.txt 的后十行内容 ；</p>
<p>tail -n 20 example.txt  显示文件 example.txt 的后二十行内容 ；</p>
<p>tail -f example.txt  显示文件 example.txt 的后十行内容，并在文件内容增加后，自动显示新增的文件内容。</p>

        <h3 id="三、网络配置及操作"   >
          <a href="#三、网络配置及操作" class="heading-link"><i class="fas fa-link"></i></a><a href="#三、网络配置及操作" class="headerlink" title="三、网络配置及操作"></a>三、网络配置及操作</h3>
      
        <h4 id="3-1-网络配置命令"   >
          <a href="#3-1-网络配置命令" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-1-网络配置命令" class="headerlink" title="3.1 网络配置命令"></a>3.1 网络配置命令</h4>
      <p>Linux 系统中最常用的网络配置命令包括 ifconfig、route，其中 ifconfig 用来查看和配置网络接口（通常是网卡）信息，包括网络接口设备的 IP 地址、掩码等；route 用来管理 Linux 系统内核中的路由表 它最大的用途就是用来设定静态的路由表项，通常是在系统用 ifconfig 配置网络接口后，用它来设定主机或者一网段的 IP 地址应该通过什么接口发送等。</p>

        <h5 id="3-1-1-ifconfig"   >
          <a href="#3-1-1-ifconfig" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-1-1-ifconfig" class="headerlink" title="3.1.1 ifconfig"></a>3.1.1 ifconfig</h5>
      <p>ifconfig的语法为：</p>
<p>ifconfig [-a] [-V] [-s] interface [[AF] address] </p>
<p>[[-]broadcast [address]] </p>
<p>[netmask address] </p>
<p>[up|down]</p>
<p>其中 interface 为网卡名，address 为 IP 地址，broadcast 表示设置广播地址，其后的 address 为广播地址的 IP，netmask 表示设置子网掩码，其后的 address 为子网掩码的 IP。up、down 设置当前网卡的状态，up表示启用当前网卡 down 表示关闭当前网卡。</p>
<p>ifconfig的常用参数说明如下：</p>
<p>-a 查看所有网卡状态</p>
<p>-V 查看ifconfig命令的版本信息</p>
<p>-s 查看统计信息</p>
<p>示例：</p>
<ol>
<li><p>将第一块网卡的IP设置为192.168.0.1；</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig eth0 192.168.0.1</span><br></pre></td></tr></table></div></figure></li>
<li><p>暂时关闭或启用网卡：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">关闭第一块网卡：ifconfig eht0 down</span><br><span class="line">启用第一块网卡：ifconfig eth0 up</span><br></pre></td></tr></table></div></figure></li>
<li><p>将第一块网卡的子网掩码设置为255.255.255.0；</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig eth0 netmask 255.255.255.0</span><br></pre></td></tr></table></div></figure>

<p>我们也可以同时设置IP地址和子网掩码：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig eth0 192.168.0.1 netmask 255.255.255.0</span><br></pre></td></tr></table></div></figure></li>
<li><p>查看第一块网卡的状态：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig eth0</span><br></pre></td></tr></table></div></figure></li>
</ol>
<p>如果要查看所有的网卡状态，则直接使用不带参数的 ifconfig 命令即可。</p>
<p>ifconfig 输出的状态信息是十分有用的，下面我们就简单说明一下：</p>
<p>有几个状态比较重要：</p>
<p>UP/DOWN：网卡是否启动了，如果是 DOWN的话，那肯定无法用的；</p>
<p>RX packets 中的 errors 包的数量如果过大说明网卡在接收时有问题；</p>
<p>TX packets 中的 errors 包的数量如果过大说明网卡在发送时有问题；</p>

        <h5 id="3-1-2-route"   >
          <a href="#3-1-2-route" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-1-2-route" class="headerlink" title="3.1.2 route"></a>3.1.2 route</h5>
      <p>route命令的语法为：<br>route [-CFvnee] </p>
<p>route [-v] [-A family] add [-net|-host] target [netmask Nm] [gw Gw] [metric N] [mod] [reinstate] [[dev] If]</p>
<p>route [-v] [-A family] del [-net|-host] target [gw Gw] [netmask Nm] [metricN] [[dev] If] </p>
<p>route [-V] [–version] [-h] [–help] </p>
<p>route的常用参数说明如下：</p>
<p>-v                                使用冗余输出模式。</p>
<p>-A family                   指定特定的地址族（例如”inet”、”inet6“）</p>
<p>-n                               使用数字显示的地址（例如 202.38.75.75）而不是去解释域名。</p>
<p>-e                               使用与 netstat 相同的输出格式。</p>
<p>-ee                             参数会产生很长的输出，包括内核路由表的几乎所有信息。</p>
<p>-net                           目标（target）是一个网段。</p>
<p>-host                         目标（target）是一个单独的主机。</p>
<p>-F                               显示内核 FIB 路由表。结果可能被-e 和-ee 参数改变。</p>
<p>-C                              显示内核中路由缓存信息。</p>
<p>del                             删除一个路由表项。</p>
<p>add                           增加一个路由表项。</p>
<p>Target                       配置的目的网段或者主机。可以是 IP，或者是网络或主机名。</p>
<p>netmask Nm           用来指明要添加的路由表项的网络掩码。</p>
<p>gw Gw                      任何通往目的（target）的 IP 分组都要通过这个网关。</p>
<p>metric M                  设置路由表中该项的尺度域（metric field）为M。</p>
<p>示例：</p>
<ol>
<li><p>添加一条路由表项，网段192.168.0.x 应该从接口”eth0“走</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">route add -net 192.168.0.0 netmask 255.255.255.0 dev eth0</span><br></pre></td></tr></table></div></figure></li>
<li><p>添加一条缺省路由</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">route add 0.0.0.0 gw 网关地址</span><br></pre></td></tr></table></div></figure></li>
<li><p>删除缺省路由</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">route del 0.0.0.0 gw 网关地址</span><br></pre></td></tr></table></div></figure></li>
<li><p>route命令的输出结果示例说明</p>
<p>输出的格式有以下几栏：</p>
<p>Destination                  目标网段或主机</p>
<p>Gateway                       网关地址，如果没有设置，则是”*“表示</p>
<p>Genmask                      网络掩码</p>
<p>Flags 一些可能的标记如下：</p>
<p>U（路由是活动的）</p>
<p>H（目标是一个主机）</p>
<p>G（使用网关 gateway）</p>
<p>R（reinstate route 动态路由产生的表象）</p>
<p>D（dynamically installed by daemon or redirect）</p>
<p>M（modified from routing daemon or redirect）</p>
<p>！（reject route）</p>
<p>Metric                             路由距离。</p>
<p>Ref                                  路由项引用次数。（Linux内核中没有使用）</p>
<p>Use                                 查找路由项的次数。</p>
<p>Iface                               该路由表项对应的输出接口。</p>
</li>
</ol>

        <h4 id="3-2-网络操作命令"   >
          <a href="#3-2-网络操作命令" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-2-网络操作命令" class="headerlink" title="3.2 网络操作命令"></a>3.2 网络操作命令</h4>
      <p>Linux 系统常用的网络操作命令包括 netstat、nslookup、host、finger 和 ping。netstat 命令的功能是显示网络连接、路由表和网络接口信息，可以让用户得知目前都有哪些网络连接正在运作。nslookup 命令的功能是查询一台机器的 IP地址和其对应的域名。它通常需要一台域名服务器来提供域名服务。如果用户已经设置好域名服务器，就可以用这个命令查看不同主机的 IP 地址对应的域名。host 命令可根据主机名查询主机的 IP 地址或根据主机 IP 地址查询主机名；finger 命令的功能是查询用户的信息，通常会显示系统中某个用户的用户名、主目录、停滞时间、登录时间、登录 shell 等信息。ping 命令用于查看网络上的主机是否在工作。</p>

        <h5 id="3-2-1-netstat"   >
          <a href="#3-2-1-netstat" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-2-1-netstat" class="headerlink" title="3.2.1 netstat"></a>3.2.1 netstat</h5>
      <p>netstat命令的语法为：</p>
<p>netstat [选项]</p>
<p>netstat的常用参数说明如下：</p>
<p>-a   显示所有 socket 包括正在监听的 </p>
<p>-c   每隔 1 秒就重新显示一遍直到用户中断它 </p>
<p>-i    显示所有网络接口的信息格式同”ifconfig –e”</p>
<p>-n   以网络 IP 地址代替名称显示出网络连接情形 </p>
<p>-r    显示核心路由表格式同 “route –e”</p>
<p>-t    显示 TCP 协议的连接情况 </p>
<p>-u   显示 UDP 协议的连接情况 </p>
<p>-v   显示正在进行的工作 </p>

        <h5 id="3-2-2-nslookup"   >
          <a href="#3-2-2-nslookup" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-2-2-nslookup" class="headerlink" title="3.2.2 nslookup"></a>3.2.2 nslookup</h5>
      <p>nslookup 命令的功能是查询一台机器的 IP 地址和其对应的域名。它通常需要一台域名服务器来提供域名服务。如果用户已经设置好域名服务器，就可以用这个命令查看不同主机的 IP 地址对应的域名。命令的语法为：</p>
<p>nslookup [IP地址/域名]</p>
<p>示例：</p>
<p>在本机致性nslookup命令</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Default Server: name.tlc.com.cn</span><br><span class="line">Address: 192.168.1.99</span><br><span class="line"><span class="meta">&gt;</span></span><br></pre></td></tr></table></div></figure>

<p>在符号 “&gt;” 后面输入要查询的IP地址或域名并回车即可。如果要退出该命令，输入exit并回车即可。</p>

        <h5 id="3-2-3-host"   >
          <a href="#3-2-3-host" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-2-3-host" class="headerlink" title="3.2.3 host"></a>3.2.3 host</h5>
      <p>host命令的功能基本与nslookup相同。命令的语法为：</p>
<p>host [选项] [IP地址/域名/主机名]</p>
<p>host的常用参数如下：</p>
<p>-a   显示所查域名或IP地址、域名或主机名的相关信息。</p>

        <h5 id="3-2-4-finger"   >
          <a href="#3-2-4-finger" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-2-4-finger" class="headerlink" title="3.2.4 finger"></a>3.2.4 finger</h5>
      <p>finger 命令的功能是查询用户的信息，通常会显示系统中某个用户的用户名、主目录、停滞时间、登录时间、登录 shell 等信息。如果要查询远程机上的用户信息。需要在用户名后面接 “@主机名” 。采用[用户名@主机名]的格式，不过要查询的网络主机需要运行 finger 守护进程。该命令的一般格式为：</p>
<p>finger [选项] [使用者] [用户@主机]</p>
<p>finger的常用参数如下：</p>
<p>-s   显示用户的注册名、实际姓名、终端名称、写状态、停滞时间、登录时间等信息。</p>
<p>-l    除了用-s 选项显示的信息外，还显示用户主目录、登录 shel、邮件状态等信息，以及用户主目录下的.plan、.project 和.forward 文件的内容 </p>
<p>-p   除了不显示.plan文件和.project文件以外与-l选项相同</p>

        <h5 id="3-2-5-Ping命令"   >
          <a href="#3-2-5-Ping命令" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-2-5-Ping命令" class="headerlink" title="3.2.5 Ping命令"></a>3.2.5 Ping命令</h5>
      <p>ping 命令用于查看网络上的主机是否在工作，它向该主机发送 ICMP ECHO_REQUEST 包。有时我们想从网络上的某台主机上下载文件，可是又不知道那台主机是否开着，就需要使用 ping 命令查看。该命令的一般格式为：</p>
<p>ping [选项] [主机名/IP地址]</p>
<p>ping的常用参数如下：</p>
<p>-c    数目 在发送指定数目的包后停止 </p>
<p>-d   设定 SO_DEBUG 的选项 </p>
<p>-f    大量且快速地送网络封包给一台机器看它的回应 </p>
<p>-I    秒数 设定间隔几秒送一个网络封包给一台机器预设值是一秒送一次 </p>
<p>-l    次数 在指定次数内以最快的方式送封包数据到指定机器 （只有超级用户可以使用此选项）</p>
<p>-q   不显示任何传送封包的信息只显示最后的结果 </p>
<p>-r   不经由网关而直接送封包到一台机器，通常是查看本机的网络接口是否有问题</p>
<p>-s   字节数 指定发送的数据字节数，预设值是 56，加上 8 字节的 ICMP头，一共是 64ICMP 数据字节</p>

        <h4 id="3-3-常用网络配置文件介绍"   >
          <a href="#3-3-常用网络配置文件介绍" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-3-常用网络配置文件介绍" class="headerlink" title="3.3 常用网络配置文件介绍"></a>3.3 常用网络配置文件介绍</h4>
      <p>在 Linux 系统中，TCP/IP 网络是通过若干个文本文件进行配置的，需要编辑这些文件来完成联网工作。系统中重要的有关网络配置文件为：</p>
<p>/etc/sysconfig/network</p>
<p>/etc/hosts</p>
<p>/etc/services</p>
<p>/etc/host.conf</p>
<p>/etc/nsswitch.conf</p>
<p>/etc/resolv.conf </p>
<p>/etc/xinetd.conf</p>
<p>/etc/modules.conf</p>
<p>/etc/sysconfig/network-scripts/ifcfg-ethN </p>
<p>接下来我们将对这些文件逐一讲述，这些文件都可以在系统运行时进行修改，不用启动或者停止任何守护程序，更改会立刻生效（除了/etc/sysconfig/network）。 另外，这些文件都支持由”#”开头的注释，每一个文件都有在 UNIX手册页中的第 5 部分中有一项，可以用 man 命令来获取它们。</p>

        <h5 id="3-3-1-etc-sysconfig-network-网络设置"   >
          <a href="#3-3-1-etc-sysconfig-network-网络设置" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-3-1-etc-sysconfig-network-网络设置" class="headerlink" title="3.3.1 /etc/sysconfig/network 网络设置"></a>3.3.1 /etc/sysconfig/network 网络设置</h5>
      <p>该文件用来指定服务器上的网络配置信息，包含了控制和网络有关的文件和守护程序的行为的参数。下面是一个例子文件：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">NETWORKING=yes</span><br><span class="line">HOSTNAME=machinel</span><br><span class="line">GATEWAY=210.34.6.2</span><br><span class="line">FORWARD_IPV4=yes</span><br><span class="line">GATEWAYDEV=</span><br></pre></td></tr></table></div></figure>

<p>其中，NETWORK=yes/no 表示网络是否被配置 ；</p>
<p>HOSTNAME=hostname hostname 表示服务器的主机名；</p>
<p>GATEWAY=gw-ip gw-ip 表示网络网关的 IP 地址；</p>
<p>FORWARD_IPV4=yes/no 是否开启 IP 转发功能；</p>
<p>GAREWAYDEV=gw-dev gw-dw 表示网关的设备名 如 eth0 等；</p>

        <h5 id="3-2-2-etc-hosts-IP-地址和主机名的映射"   >
          <a href="#3-2-2-etc-hosts-IP-地址和主机名的映射" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-2-2-etc-hosts-IP-地址和主机名的映射" class="headerlink" title="3.2.2 /etc/hosts IP 地址和主机名的映射"></a>3.2.2 /etc/hosts IP 地址和主机名的映射</h5>
      <p>/etc/hosts 中包含了 IP 地址和主机名之间的映射，还包括主机名的别名，IP地址的设计使计算机容易识别，但对于人却很难记住它们，为了解决这个问题，创建了/etc/hosts 这个文件。下面是一个例子文件：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1 machinel localhost.localdomain localhost</span><br><span class="line">192.168.1.100 machine7</span><br><span class="line">192.168.1.101 otherpc otheralias</span><br></pre></td></tr></table></div></figure>

<p>在这个例子中，本机名是 machine1，otherpc 还有别名 otheralias，它可以指向 otheralias。一旦配置完机器的网络配置文件，应该重新启动网络以使修改生效，使用下面的命令来重新启动网络：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service network restart</span><br></pre></td></tr></table></div></figure>

<p>/etc/hosts 文件通常含有主机名、localhost 和系统管理员经常使用的系统别名，有时候 telnet 到 Linux 机器要等待很长时间，可以通过在”/etc/hosts”加入客户的机器的 IP 地址和主机名的匹配项，就可以减少登录等待时间。在没有域名服务器情况下，系统上的所有网络程序都通过查询该文件来解析对应于某个主机名的 IP 地址，否则，其他的主机名通常使用 DNS 来解决，DNS 客户部分的配置在文件/etc/resolv.conf 中。</p>

        <h5 id="3-3-3-etc-services"   >
          <a href="#3-3-3-etc-services" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-3-3-etc-services" class="headerlink" title="3.3.3 /etc/services"></a>3.3.3 /etc/services</h5>
      <p>/etc/services 中包含了服务名和端口号之间的映射，不少的系统程序要使用这个文件。</p>

        <h5 id="3-3-4-etc-host-conf-配置名字解析器"   >
          <a href="#3-3-4-etc-host-conf-配置名字解析器" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-3-4-etc-host-conf-配置名字解析器" class="headerlink" title="3.3.4 /etc/host.conf 配置名字解析器"></a>3.3.4 /etc/host.conf 配置名字解析器</h5>
      <p>有两个文件声明系统到哪里寻找名字信息来配置 UNIX名字解析器的库。文件/etc/host.conf 由版本 5 的 libc 库所使用，而/etc/nsswitch.conf 由版本 6 使用(glibc )。问题在于一些程序使用其中一个，而一些使用另一个，所以将两个文件都配置正确是必要的。</p>
<p>/etc/host.conf 文件指定如何解析主机名，Linux 通过解析器库来获得主机名对应的 IP 地址 。</p>
<p>“order “ 指定主机名查询顺序，其参数为用逗号隔开的查找方法，支持的查找方法为 bind、hosts、和 nis，分别代表 DNS、/etc/hosts 和 NIS，这里规定先查询”/etc/hosts”文件然后再使用 DNS 来解析域名。</p>
<p>“trim” 表明当通过 DNS 进行地址到主机名的转换时，域名将从主机名中被裁剪掉，trim 可以被多个域包含多次，对/etc/hosts 和 NIS 查询方法不起作用，注意在/etc/hosts 和 NIS 表中主机名是被适当地（有或没有全域名）列出的。</p>
<p>“multi” 指定是否”/etc/hosts”文件中指定的主机可以有多个地址，值为 on 表示允许，拥有多个 IP 地址的主机一般称为具有多个网络界面。</p>
<p>“nospoof “ 指是否允许对该服务器进行 IP 地址欺骗，值为 on 表示不允许，IP欺骗是一种攻击系统安全的手段，通过把 IP 地址伪装成别的计算机，来取得其它计算机的信任。</p>
<p>“alert” 当 nospoof 指令为 on 时，alert 控制欺骗的企图是否用 syslog 工具进行记录，值为 on 表示使用，缺省值为 off。</p>
<p>“rccorder” 如果被设置为 on，所有的查询将被重新排序，所以在同一子网中的主机将首选被返回。缺省值为 off。</p>

        <h5 id="3-3-5-etc-nsswitch-conf-配置名字解析器"   >
          <a href="#3-3-5-etc-nsswitch-conf-配置名字解析器" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-3-5-etc-nsswitch-conf-配置名字解析器" class="headerlink" title="3.3.5 /etc/nsswitch.conf 配置名字解析器"></a>3.3.5 /etc/nsswitch.conf 配置名字解析器</h5>
      <p>/etc/nsswitch.conf 文件是由 Sun 公司开发并用于管理系统中多个配置文件查找的顺序，它比/etc/host.conf 文件提供了更多的功能。/etc/nsswitch.conf 中的每一行或者是注释(以#号开头)或者是一个关键字后跟冒号和一系列要试用的有顺序的方法。每一个关键字是在/etc/目录可以被/etc/nsswitch.conf 控制的/etc 文件的名字。下面是可以被包含的关键字：</p>
<p>aliases           邮件别名</p>
<p>passwd         系统用户</p>
<p>group            用户组</p>
<p>shadow         隐蔽口令</p>
<p>hosts             主机名和 I P 地址</p>
<p>networks      网络名和号</p>
<p>protocols      网络协议</p>
<p>services        端口号和服务名称</p>
<p>ethers           以太网号</p>
<p>rpc                 远程进程调用的名称和号</p>
<p>netgroup      网内组</p>

        <h5 id="3-3-6-etc-resolv-conf-配置-DNS-客户"   >
          <a href="#3-3-6-etc-resolv-conf-配置-DNS-客户" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-3-6-etc-resolv-conf-配置-DNS-客户" class="headerlink" title="3.3.6 /etc/resolv.conf 配置 DNS 客户"></a>3.3.6 /etc/resolv.conf 配置 DNS 客户</h5>
      <p>文件/etc/resolv.conf 配置 DNS 客户，它包含了主机的域名搜索顺序和 DNS服务器的地址，每一行应包含一个关键字和一个或多个的由空格隔开的参数。下面是一个例子文件：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nameserver 192.168.0.36</span><br><span class="line">nameserver 192.168.0.37</span><br></pre></td></tr></table></div></figure>

<p>合法的参数及其意义如下：</p>
<p>nameserver 表明 DNS 服务器的 IP 地址。可以有很多行的 nameserver，每一个带一个 IP 地址。在查询时就按 nameserver 在本文件中的顺序进行，且只有当第一个 nameserver 没有反应时才查询下面的 nameserver。</p>
<p>domain 声明主机的域名。很多程序用到它，如邮件系统；当为没有域名的主机进行 DNS 查询时，也要用到。如果没有域名，主机名将被使用，删除所有在第一个点( . )前面的内容。</p>
<p>search 它的多个参数指明域名查询顺序。当要查询没有域名的主机，主机将在由 search 声明的域中分别查找。domain 和 search 不能共存；如果同时存在 后面出现的将会被使用。</p>
<p>sortlist 允许将得到域名结果进行特定的排序。它的参数为网络/掩码对，允许任意的排列顺序。Red Hat 中没有提供缺省的/etc/resolv.conf文件，它的内容是根据在安装时给出的选项动态创建的。</p>

        <h5 id="3-3-7-etc-xinetd-conf"   >
          <a href="#3-3-7-etc-xinetd-conf" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-3-7-etc-xinetd-conf" class="headerlink" title="3.3.7 /etc/xinetd.conf"></a>3.3.7 /etc/xinetd.conf</h5>
      <p>redhat 7.1 及以后版本计和以往的版本有一个明显的区别，就是用 xinetd.conf代替原来的 inetd.conf，并且直接使用了 firewall 服务。 xinetd(eXtendedInterNET services daemon)对 inetd 功能进行了扩展，xinetd 的默认配置文件是/etc/xinetd.conf，它看起来尽管和老版本的/etc/inetd.conf 完全不同，其实只是以一个脚本的形式将 inetd 中每一行指定的服务扩展为一个/etc/xinetd.d/下的配置文件。其格式为：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">service service-name</span><br><span class="line">&#123;</span><br><span class="line">    disabled = yes/no; //是否禁用</span><br><span class="line">    socket_type = xxx; //TCP/IP socket type, such as stream, dgram, raw,...</span><br><span class="line">    protocol = xxx; //服务使用的协议</span><br><span class="line">    server = xxx; //服务daemon的完整路径</span><br><span class="line">    server_args = xxx; //服务的参数</span><br><span class="line">    port = xxx; //指定服务的端口号</span><br><span class="line">    wait = xxx; //是否阻塞服务，即单线程或多线程</span><br><span class="line">    user = xxx; //服务进程的uid</span><br><span class="line">    group = xxx; //gid</span><br><span class="line">    REUSE = xxx; //可重用标值</span><br><span class="line">    ... ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


        <h5 id="3-3-8-etc-modules-conf-文件"   >
          <a href="#3-3-8-etc-modules-conf-文件" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-3-8-etc-modules-conf-文件" class="headerlink" title="3.3.8 /etc/modules.conf 文件"></a>3.3.8 /etc/modules.conf 文件</h5>
      <p>该配置文件定义了各种需要在启动时加载的模块的参数信息，文件格式如下：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alias eth0 tg3</span><br><span class="line">alias eth1 3c905</span><br></pre></td></tr></table></div></figure>


        <h5 id="3-3-9-etc-sysconfig-network-scripts-ifcfg-ethN-文件"   >
          <a href="#3-3-9-etc-sysconfig-network-scripts-ifcfg-ethN-文件" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-3-9-etc-sysconfig-network-scripts-ifcfg-ethN-文件" class="headerlink" title="3.3.9 /etc/sysconfig/network-scripts/ifcfg-ethN 文件"></a>3.3.9 /etc/sysconfig/network-scripts/ifcfg-ethN 文件</h5>
      <p>系统网络设备的配置文件保存在 “/etc/sysconfig/network-scripts” 目录下，ifcfg-eth0 包含第一块网卡的配置信息，ifcfg-eth1包含第二块网卡的配置信息。</p>
<p>下面是“/etc/sysconfig/network-scripts/ifcfg-eth0”文件的示例：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">DEVICE=eth0</span><br><span class="line">ONBOOT=yes</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">IPADDR=192.168.0.66</span><br><span class="line">NETMASK=255.255.255.0</span><br><span class="line">GATEWAY=192.168.0.65</span><br></pre></td></tr></table></div></figure>

<p>若希望手工修改网络地址或在新的接口上增加新的网络界面，可以通过修改对应的文件（ifcfg-ethN）或创建新的文件来实现。</p>

        <h4 id="3-4常用网络操作方法"   >
          <a href="#3-4常用网络操作方法" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-4常用网络操作方法" class="headerlink" title="3.4常用网络操作方法"></a>3.4常用网络操作方法</h4>
      <p>Linux提供了一组强有力的网络命令来为用户服务，这些工具能够帮助用户登录到远程计算机上、传输文件和执行远程命令等。本节介绍下列几个常用的有关网络操作的命令：</p>
<p>ftp            传输文件</p>
<p>telnet       登录到远程计算机上</p>
<p>r-              使用各种远程命令</p>

        <h5 id="3-4-1-ftp远程文件传输"   >
          <a href="#3-4-1-ftp远程文件传输" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-4-1-ftp远程文件传输" class="headerlink" title="3.4.1 ftp远程文件传输"></a>3.4.1 ftp远程文件传输</h5>
      <p>ftp 命令是标准的文件传输协议的用户接口。ftp 是在 TCP/IP 网络上的计算机之间传输文件的简单有效的方法。它允许用户传输 ASCII 文件和二进制文件。在 ftp 会话过程中，用户可以通过使用 ftp 客户程序连接到另一台计算机上。从此，用户可以在目录中上下移动、列出目录内容、把文件从远程机拷贝到本地机上、把文件从本地机传输到远程系统中。需要注意的是，如果用户没有那个文件的存取权限，就不能从远程系统中获得文件或向远程系统传输文件。为了使用 ftp 来传输文件，用户必须知道远程计算机上的合法用户名和口令。这个用户名/口令的组合用来确认 ftp 会话，并用来确定用户对要传输的文件可以进行什么样的访问。</p>
<p>ftp命令的一般格式如下：</p>
<p>$ ftp 主机名/IP</p>
<p>如果没有指定主机名，ftp将给出提示符，等待用户输入命令：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ftp</span></span><br><span class="line">ftp &gt; </span><br></pre></td></tr></table></div></figure>

<p>此时在 ftp&gt;提示符后面输入 open 命令加主机名或 IP 地址，将试图连接指定的主机。不管使用哪一种方法，如果连接成功，需要在远程机上登录。用户如果在远程机上有帐号，就可以通过 ftp 使用这一帐号并需要提供口令。在远程机上的用户帐号的读写权限决定该用户在远程机上能下载什么文件和将上载文件放到哪个目录中。</p>
<p>一旦用户使用 ftp 在远程站点上登录成功，将得到 “ftp&gt;” 提示符，现在可以自由使用 ftp 提供的命令，可以用 help 命令取得可供使用的命令清单，也可以在 help 命令后面指定具体的命令名称，获得这条命令的说明。</p>
<p>最常用的命令有：</p>
<p>ls   列出远程机的当前目录 </p>
<p>cd   在远程机上改变工作目录 </p>
<p>lcd   在本地机上改变工作目录 </p>
<p>ascii   设置文件传输方式为 ASCII模式，默认情况下，ftp 按 ASCII模式传输文件，用户也可以指定    其他模式。ascii 和 brinary 命令的功能是设置传输的模式。用 ASCII 模式传输文件对纯文本是非常好的，但为避免对二进制文件的破坏，用户可以以二进制模式传输文件 。</p>
<p>binary   设置文件传输方式为二进制模式 </p>
<p>close   终止当前的 ftp 会话 </p>
<p>hash   每次传输完数据缓冲区中的数据后就显示一个#号 </p>
<p>get（mget）从远程机传送指定文件到本地机 </p>
<p>put（mput） 从本地机传送指定文件到远程机  </p>
<p>open   连接远程 ftp 站点 </p>
<p>quit   断开与远程机的连接并退出 ftp </p>
<p>?   显示本地帮助信息 </p>
<p>!    转到 Shell 中 </p>
<p>使用ftp传输文件过程如下：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost root]# ftp 192.168.1.66</span><br><span class="line">Connected to 192.168.1.66 (192.168.1.66).</span><br><span class="line">220 localhost.localdomain FTP server (Version wu-2.6.2-5) ready.</span><br><span class="line">Name (192.168.1.66:root): test</span><br><span class="line">331 Password required for test.</span><br><span class="line">Password:</span><br><span class="line">230 User oracle logged in. Access restrictions apply.</span><br><span class="line">Remote system type is UNIX.</span><br><span class="line">Using binary mode to transfer files.</span><br><span class="line"><span class="meta">ftp&gt;</span><span class="bash"> ls</span></span><br><span class="line">227 Entering Passive Mode (192.168.1.66,228,168)</span><br><span class="line">150 Opening ASCII mode data connection for directory listing.</span><br><span class="line">total 312</span><br><span class="line">-rw-r--r-- 1 root root 1215 Feb 4 13:49 button1.jpg</span><br><span class="line">-rw-r--r-- 1 root root 1133 Feb 4 13:49 button2.jpg</span><br><span class="line">-rw-r--r-- 1 root root 1435 Feb 4 13:46 index.html</span><br><span class="line">226 Transfer complete.</span><br><span class="line"><span class="meta">ftp&gt;</span><span class="bash"> lcd</span></span><br><span class="line">Local directory now /root</span><br><span class="line"><span class="meta">ftp&gt;</span><span class="bash"> lcd tmp</span></span><br><span class="line">Local directory now /root/tmp</span><br><span class="line"><span class="meta">ftp&gt;</span><span class="bash"> bin</span></span><br><span class="line">200 Type set to I.</span><br><span class="line"><span class="meta">ftp&gt;</span><span class="bash"> mget *.jpg</span></span><br><span class="line">mget button1.jpg? y</span><br><span class="line">227 Entering Passive Mode (10,153,89,66,187,198)</span><br><span class="line">150 Opening BINARY mode data connection for button1.jpg (1215 bytes).</span><br><span class="line">226 Transfer complete.</span><br><span class="line">1215 bytes received in 0.0119 secs (1e+02 Kbytes/sec)</span><br><span class="line">mget button2.jpg? y</span><br><span class="line">227 Entering Passive Mode (10,153,89,66,243,218)</span><br><span class="line">150 Opening BINARY mode data connection for button2.jpg (1133 bytes).</span><br><span class="line">226 Transfer complete.</span><br><span class="line">1133 bytes received in 0.00223 secs (5e+02 Kbytes/sec)</span><br><span class="line"><span class="meta">ftp&gt;</span><span class="bash"> quit</span></span><br><span class="line">221-You have transferred 2348 bytes in 2 files.</span><br><span class="line">221-Total traffic for this session was 3315 bytes in 3 transfers.</span><br><span class="line">221-Thank you for using the FTP service on localhost.localdomain.</span><br><span class="line">221 Goodbye.</span><br></pre></td></tr></table></div></figure>


        <h5 id="3-4-2-telnet"   >
          <a href="#3-4-2-telnet" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-4-2-telnet" class="headerlink" title="3.4.2 telnet"></a>3.4.2 telnet</h5>
      <p>用户使用 telnet 命令进行远程登录。该命令允许用户使用 telnet 协议在远程计算机之间进行通信，用户可以通过网络在远程计算机上登录，就像登录到本地机上执行命令一样。为了通过 telnet 登录到远程计算机上，必须知道远程机上的合法用户名和口令。虽然有些系统确实为远程用户提供登录功能，但出于对安全的考虑，要限制来宾的操作权限，因此，这种情况下能使用的功能是很少的。当允许远程用户登录时，系统通常把这些用户放在一个受限制的shell 中，以防系统被怀有恶意的或不小心的用户破坏。用户还可以使用 telnet从远程站点登录到自己的计算机上，检查电子邮件、编辑文件和运行程序，就像在本地登录一样。但是，用户只能使用基于终端的环境而不是 X Wndows环境，telnet 只为普通终端提供终端仿真，而不支持 X Wndow等图形环境。</p>
<p>telnet命令的一般形式为：</p>
<p>telnet 主机名/IP</p>
<p>其中 “主机名/IP” 是要连接的远程机的主机名或 IP 地址。如果这一命令执行成功，将从远程机上得到 login：提示符。</p>
<p>使用telnet命令登录的过程如下：</p>
<p>$ telnet 主机名/IP</p>
<p>一旦telnet成功地连接到远程系统上，就显示登录信息并提示用户输入人用户名和口令。如果用户名和口令输入正确，就能成功登录并在远程系统上工作。</p>
<p>在telnet提示符后面可以输入很多命令，用来控制telnet会话过程，在telnet联机帮助手册中对这些命令有详细的说明。</p>

        <h5 id="3-4-3-r-系列命令"   >
          <a href="#3-4-3-r-系列命令" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-4-3-r-系列命令" class="headerlink" title="3.4.3 r- 系列命令"></a>3.4.3 r- 系列命令</h5>
      <p>除 ftp 和 telnet 以外，还可以使用 r-系列命令访问远程计算机和在网络上交换文件。使用 r-系列命令需要特别注意，因为如果用户不小心，就会造成严重的安全漏洞。用户发出一个 r-系列命令后，远程系统检查名为/etc/hosts.equiv的文件，以查看用户的主机是否列在这个文件中。如果它没有找到用户的主机，就检查远程机上同名用户的主目录中名为.rhosts 的文件，看是否包括该用户的主机。如果该用户的主机包括在这两个文件中的任何一个之中，该用户执行 r-系列命令就不用提供口令。</p>
<p>rlogin命令</p>
<p>rlogin是 “remote login” （远程登录） 的缩写。该命令与 telnet 命令很相似，允许用户启动远程系统上的交互命令会话。rlogin 的一般格式是：</p>
<p>rlogin [ -8EKLdx ] [ -e char ] [-k realm ] [ - l username ] host </p>
<p>一般最常用的格式是：</p>
<p>rlogin host</p>
<p>rsh 命令</p>
<p>rsh 是“ remote shell” （远程 shell）的缩写。该命令在指定的远程主机上启动一个 shell 并执行用户在 rsh 命令行中指定的命令。如果用户没有给出要执行的命令，rsh 就用 rlogin 命令使用户登录到远程机上。rsh 命令的一般格式是：</p>
<p>rsh [-Kdnx] [-k realm] [-l username] host [command] </p>
<p>一般常用的格式是：</p>
<p>rsh host [command]</p>
<p>command 可以是从 shell 提示符下键人的任何 Linux 命令 。</p>

        <h3 id="四、常用使用技巧"   >
          <a href="#四、常用使用技巧" class="heading-link"><i class="fas fa-link"></i></a><a href="#四、常用使用技巧" class="headerlink" title="四、常用使用技巧"></a>四、常用使用技巧</h3>
      
        <h4 id="4-1-Linux下软件包的安装及卸载"   >
          <a href="#4-1-Linux下软件包的安装及卸载" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-1-Linux下软件包的安装及卸载" class="headerlink" title="4.1 Linux下软件包的安装及卸载"></a>4.1 Linux下软件包的安装及卸载</h4>
      <p>在 Linux 操作系统下，几乎所有的软件均通过 RPM 进行安装、卸载及管理等操作。RPM 的全称为 Redhat Package Manager，是由 Redhat 公司提出的，用于管理 Linux 下软件包的软件。Linux 安装时，除了几个核心模块以外，其余几乎所有的模块均通过 RPM 完成安装。RPM 有五种操作模式，分别为：安装、卸载、升级、查询和验证。</p>

        <h5 id="4-1-1-RPM安装操作"   >
          <a href="#4-1-1-RPM安装操作" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-1-1-RPM安装操作" class="headerlink" title="4.1.1 RPM安装操作"></a>4.1.1 RPM安装操作</h5>
      <p>命令：</p>
<p>rpm -i 需要安装的包文件名</p>
<p>举例如下：</p>
<p>rpm -i example.rpm  安装example.rpm 包；</p>
<p>rpm -iv example.rpm 安装example.rpm包，并在安装过程中显示正在安装的文件信息；</p>
<p>rpm -ivh example.rpm 安装 example.rpm 包，并在安装过程中显示正在安装的文件信息及安装进度；</p>

        <h5 id="4-1-2-RPM查询操作"   >
          <a href="#4-1-2-RPM查询操作" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-1-2-RPM查询操作" class="headerlink" title="4.1.2 RPM查询操作"></a>4.1.2 RPM查询操作</h5>
      <p>命令：</p>
<p>rpm -q … </p>
<p>附加查询命令：</p>
<p>a   查询所有已经安装的包</p>
<p>以下两个附加命令用于查询安装包的信息；</p>
<p>i    显示安装包的信息；</p>
<p>l    显示安装包中的所有文件被安装到哪些目录下；</p>
<p>s   显示安装版中的所欲文件状态及被安装到哪些目录下；</p>
<p>以下两个附加命令用于指定需要查询的是安装包还是已安装后的文件；</p>
<p>p   查询的是安装包的信息；</p>
<p>f    查询的是已安装的某文件信息；</p>
<p>举例如下：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa | grep tomcat4 //查看 tomcat4 是否被安装；</span><br><span class="line">rpm -qip example.rpm //查看 example.rpm 安装包的信息；</span><br><span class="line">rpm -qif /bin/df //查看/bin/df 文件所在安装包的信息；</span><br><span class="line">rpm -qlf /bin/df //查看/bin/df 文件所在安装包中的各个文件分别被安装到哪个目录下；</span><br></pre></td></tr></table></div></figure>


        <h5 id="4-1-3-RPM卸载操作"   >
          <a href="#4-1-3-RPM卸载操作" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-1-3-RPM卸载操作" class="headerlink" title="4.1.3 RPM卸载操作"></a>4.1.3 RPM卸载操作</h5>
      <p>命令：</p>
<p>rpm -e 需要卸载的安装包</p>
<p>在卸载之前，通常需要使用 rpm -q … 命令查出需要卸载的安装包名称。</p>
<p>举例如下：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -e tomcat4  //卸载tomcat4软件包</span><br></pre></td></tr></table></div></figure>


        <h5 id="4-1-4-RPM升级操作"   >
          <a href="#4-1-4-RPM升级操作" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-1-4-RPM升级操作" class="headerlink" title="4.1.4 RPM升级操作"></a>4.1.4 RPM升级操作</h5>
      <p>命令：<br>rpm -U 需要升级的包</p>
<p>举例如下：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -Uvh example.rpm  //升级example.rpm软件包</span><br></pre></td></tr></table></div></figure>


        <h5 id="4-1-5-RPM验证操作"   >
          <a href="#4-1-5-RPM验证操作" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-1-5-RPM验证操作" class="headerlink" title="4.1.5 RPM验证操作"></a>4.1.5 RPM验证操作</h5>
      <p>命令：</p>
<p>rpm -V 需要验证的包</p>
<p>举例如下：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -Vf /etc/tomcat4/tomcat4.conf</span><br></pre></td></tr></table></div></figure>

<p>输出信息类似如下：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">S.5....T c /etc/tomcat4/tomcat4.conf</span><br></pre></td></tr></table></div></figure>

<p>其中，S 表示文件大小修改过，T 表示文件日期修改过。限于篇幅，更多的验证信息请您参考 rpm 帮助文件：man rpm。</p>

        <h5 id="4-1-6-RPM的其他附加命令"   >
          <a href="#4-1-6-RPM的其他附加命令" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-1-6-RPM的其他附加命令" class="headerlink" title="4.1.6 RPM的其他附加命令"></a>4.1.6 RPM的其他附加命令</h5>
      <p>–force    强制操作（如强制安装、删除等）；</p>
<p>–requires    显示该包的依赖关系；</p>
<p>–nodeps     忽略依赖关系并继续操作；</p>

        <h4 id="4-2-Linux操作系统的时钟教程"   >
          <a href="#4-2-Linux操作系统的时钟教程" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-2-Linux操作系统的时钟教程" class="headerlink" title="4.2 Linux操作系统的时钟教程"></a>4.2 Linux操作系统的时钟教程</h4>
      
        <h5 id="4-2-1-时钟系统介绍"   >
          <a href="#4-2-1-时钟系统介绍" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-2-1-时钟系统介绍" class="headerlink" title="4.2.1 时钟系统介绍"></a>4.2.1 时钟系统介绍</h5>
      <p>对于 Linux 操作系统，主要有两种时钟系统：</p>
<ol>
<li>硬件时钟系统：该时钟系统的运行独立于任何系统控制程序，在 CPU 内部运行，既使系统断电，该时钟系统仍然保持运行。此时钟系统常常被称为实时时钟系统（RTC）、BIOS 时钟系统或 CMOS 时钟系统。</li>
<li>系统时间：该时间为 Linux 内核的时钟系统所维护，并且被定时中断程序所驱动。该时间仅当 Linux 系统运行过程中有意义。该系统时间表示为以 UTC通用协调时间（Universal Time Coordinated）计算，自1970年1月1日0时0分0秒起至当前时刻所经过的秒数（该数字不是整数 以小数方式表示精度）。</li>
</ol>
<p>在 Linux 系统中，真正起作用的是系统时间。硬件时钟系统的唯一作用是在Linux 系统没有运行时，保持时间的运行。当 Linux 操作系统启动时，系统会自动将硬件时钟系统的时间同步到 Linux 系统时间，并且在之后的整个 Linux运行过程中，不再使用该硬件时钟系统（这与 DOS 的实现方式完全不同，在DOS 中，只有硬件时间系统的概念）。而在 Linux 操作系统关闭时，系统会自动将当前的 Linux 系统时间同步到硬件时钟系统所维护的时间。</p>

        <h5 id="4-2-2-硬件时钟系统与系统时间的同步"   >
          <a href="#4-2-2-硬件时钟系统与系统时间的同步" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-2-2-硬件时钟系统与系统时间的同步" class="headerlink" title="4.2.2 硬件时钟系统与系统时间的同步"></a>4.2.2 硬件时钟系统与系统时间的同步</h5>
      <p>/sbin/hwclock 用于同步硬件时钟系统的时间与 Linux 操作系统时间。</p>
<p>查看当前硬件时钟系统时间的命令为：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/sbin/hwclock --show</span><br></pre></td></tr></table></div></figure>

<p>将硬件时钟系统时间同步到Linux操作系统时间的命令为：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/sbin/hwclock --hctosys</span><br></pre></td></tr></table></div></figure>

<p>将 Linux 操作系统时间同步到硬件时钟系统时间的命令为 ：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/sbin/hwclock --systohc</span><br></pre></td></tr></table></div></figure>

<p>如果观察系统启动/关闭时执行的初始化脚本”/etc/rc.d/rc.sysinit”，我们不难发现：系统启动过程中，自动调用 ”/sbin/hwclock –hctosys“ 将硬件时钟系统时间同步到操作系统时间；而在系统关闭过程中，自动调用 ”/sbin/hwclock–systohc“ 将操作系统时间同步到硬件时钟系统时间。</p>

        <h4 id="4-3-系统信息及运行状态监控"   >
          <a href="#4-3-系统信息及运行状态监控" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-3-系统信息及运行状态监控" class="headerlink" title="4.3 系统信息及运行状态监控"></a>4.3 系统信息及运行状态监控</h4>
      <p>Linux的文件系统中，有一个特殊目录”/proc“，该目录下列出的文件并非保存在磁盘上，而是内存中的一个映像。在该目录下可以找到许多有意思的东西，例如：</p>
<p>/proc/cpuinfo     本机CPU的相关信息；</p>
<p>/proc/meminfo     本机内存及交换分区的使用信息；</p>
<p>/proc/modules     本机已安装的硬件模块信息；</p>
<p>/proc/mounts     本机已挂载（mount）上的设备信息；</p>
<p>此外，该目录下有一些以数字为名称 的子目录，每个子目录用于维护一个正在运行的进程，而目录即为相应的进程ID。例如，进入名称为”1“的子目录：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /proc/1</span><br></pre></td></tr></table></div></figure>

<p>该目录下 文件 ”cmdline“ 中的内容为该进程运行时执行的命令行；”environ“文件中的内容为该进程运行时的环境变量信息；”stat“ 文件中存放的时该进程运行的状态信息等。</p>
<p>通过查看 ”/proc“ 目录下的文件，可以获取几乎所有的系统信息及系统的运行状态信息。事实上，Linux 下的诸多查询系统状态信息的命令，也是通过读取该目录下的文件而获取的。</p>
<p>以下是一些用于查看系统状态信息的命令：</p>

        <h5 id="4-3-1-df命令"   >
          <a href="#4-3-1-df命令" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-3-1-df命令" class="headerlink" title="4.3.1 df命令"></a>4.3.1 df命令</h5>
      <p>用于查看 Linux 文件系统的状态信息，显示各个分区的容量、已使用量、未使用量及挂载点等信息。如：</p>
<p>df -k    以千字节（KB）为单位显示各分区的信息;</p>
<p>df -a    显示所有分区，包括大小为 0 的分区；</p>
<p>df -T     显示分区类型（EXT2 或 EXT3等）。</p>

        <h5 id="4-3-2-du命令"   >
          <a href="#4-3-2-du命令" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-3-2-du命令" class="headerlink" title="4.3.2 du命令"></a>4.3.2 du命令</h5>
      <p>用于查看文件或文件夹的大小。如：</p>
<p>du -b /home    以字节为单位显示 “/home” 文件夹下各个子文件夹的大小；</p>
<p>du -ks home    以千字节（KB）为单位显示 ”/home“ 文件夹的总大小；</p>

        <h5 id="4-3-3-top命令"   >
          <a href="#4-3-3-top命令" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-3-3-top命令" class="headerlink" title="4.3.3 top命令"></a>4.3.3 top命令</h5>
      <p>用于实时查看系统状态信息。运行该命令后，屏幕上会显示如下信息：</p>
<p>CPU状态（CPU states）：包括用户进程占用比率、系统进程占用比率、用户的 nice 优先级进程占用比率及空闲 CPU资源比率等；</p>
<p>内存状态（Mem）：包括内存总量、使用量、空闲量等；</p>
<p>交换分区状态（Swap）：包括交换分区总量、使用量、空闲量等；</p>
<p>每个进程的状态：包括进程ID、用户名、优先级、CPU和内存使用量，以及运行该进程时执行的命令行；</p>
<p>执行 top 命令后，每隔 5 秒，系统会自动刷新一次状态信息。如果要指定刷新间隔，在启动时加入 ”-d“ 参数即可。例如：</p>
<p>top -d 1     启动top，并且每隔1秒刷新一次。</p>
<p>进入top后，按下如下按钮会有相应功能：</p>
<p>【空格】立即刷新显示信息；</p>
<p>【M】按内存使用量排序；</p>
<p>【N】按进程ID排序；</p>
<p>【P】按CPU使用量排序；</p>
<p>【c】扩展命令行信息，显示完整的命令行；</p>
<p>【?】显示帮助信息；</p>
<p>【q】退出top程序。</p>

        <h5 id="4-3-4-iostat命令"   >
          <a href="#4-3-4-iostat命令" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-3-4-iostat命令" class="headerlink" title="4.3.4 iostat命令"></a>4.3.4 iostat命令</h5>
      <p>统计并输出 CPU使用信息及特定设备或分区的 IO 信息。</p>
<p>iostat -c    仅显示CPU使用情况统计信息；</p>
<p>iostat -d    仅显示设备/分区使用情况统计信息；</p>
<p>iostat -d 2    统计设备/分区使用情况，并每隔2秒刷新一次。</p>
<p>显示的IO统计信息中，各部分说明如下：</p>
<p>tps    设备每秒收到的IO传送请求数；</p>
<p>Blk_read/s    设备每秒读入的块数量；</p>
<p>Blk_wrtn/s    设备每秒写入的块数量；</p>
<p>Blk_read    设备读入的总块数量；</p>
<p>Blk_wrtn    设备写入的总块数量；</p>
<p>显示CPU统计信息，各部分的含义同top。</p>

        <h4 id="4-4-打包-压缩工具tar"   >
          <a href="#4-4-打包-压缩工具tar" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-4-打包-压缩工具tar" class="headerlink" title="4.4 打包/压缩工具tar"></a>4.4 打包/压缩工具tar</h4>
      <p>tar 是 Linux下最常用的打包、压缩工具，它在 Linux 中扮演类似于 WinZip 或WinRAR 在 Windows 下的角色。下面是该工具的常用命令参数及运用举例：</p>
<p>主要命令：</p>
<p>-c    创建包</p>
<p>-x    解包</p>
<p>-t    列出包中的所有内容</p>
<p>-r    增加文件到指定包中</p>
<p>-u    更新包中的文件</p>
<p>可选命令：<br>-j     创建或解开包时，使用 bzip2 进行压缩或解压；</p>
<p>-z    创建或解开包时，使用 gzip 进行压缩或解压；</p>
<p>-Z    创建或解开包时，使用 compress 进行压缩或解压；</p>
<p>-f     后面跟指定的包文件名；</p>
<p>-v    显示打包/解包过程；</p>
<p>-C    指定解包后的路径；</p>
<p>例如：</p>
<p>tar -czf tmp.tar.gz /tmp      将 ”/tmp“ 目录压缩打包，存放为 tmp.tar.gz；</p>
<p>tar -xzf tmp.tar.gz -C /home       将 tmp.tar.gz 包解到 ”/home“ 目录下；</p>
<p>tar -t tmp.tar.gz      查看 tmp.tar.gz 包中的文件信息；</p>

        <h4 id="4-5-文件及文件内容的查找"   >
          <a href="#4-5-文件及文件内容的查找" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-5-文件及文件内容的查找" class="headerlink" title="4.5 文件及文件内容的查找"></a>4.5 文件及文件内容的查找</h4>
      <p>Linux下提供完善的文件及文件内容查找命令，分别介绍如下：</p>

        <h5 id="4-5-1-文件查找命令find"   >
          <a href="#4-5-1-文件查找命令find" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-5-1-文件查找命令find" class="headerlink" title="4.5.1 文件查找命令find"></a>4.5.1 文件查找命令find</h5>
      <p>find用于查找文件系统中的指定文件，其命令格式为：</p>
<p>find 要查找的路径 表达式 </p>
<p>例如：</p>
<p>find . -name 1.txt      在当前目录及其子目录下查找文件 ”1.txt“；</p>
<p>find /tmp -name 1.txt      在 ”/tmp“ 目录及其子目录下查找文件 ”1.txt“。</p>

        <h5 id="4-5-2-文件内容查找命令grep"   >
          <a href="#4-5-2-文件内容查找命令grep" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-5-2-文件内容查找命令grep" class="headerlink" title="4.5.2 文件内容查找命令grep"></a>4.5.2 文件内容查找命令grep</h5>
      <p>grep命令用于查找指定的模式匹配，格式为：</p>
<p>grep [命令选项] 要查找的匹配模式 [要查找的文件]</p>
<p>例如：<br>grep cams test.txt      在 ”test.txt“ 文件中查找 cams 字符串；</p>
<p>grep -r cams /root/cams      在 ”/root/cams“ 目录及其子目录下的所有文件中查找 cams 字符串；</p>
<p>grep 命令除了能够查找文件外，还能够将任意输出流重定向到 grep 进行查找：</p>
<p>ps -ef | grep ora      查找进程名中包含 ”ora“ 的所有进程信息。</p>

        <h4 id="4-6-Linux的系统服务及其配置"   >
          <a href="#4-6-Linux的系统服务及其配置" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-6-Linux的系统服务及其配置" class="headerlink" title="4.6 Linux的系统服务及其配置"></a>4.6 Linux的系统服务及其配置</h4>
      
        <h5 id="4-6-1-服务介绍"   >
          <a href="#4-6-1-服务介绍" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-6-1-服务介绍" class="headerlink" title="4.6.1 服务介绍"></a>4.6.1 服务介绍</h5>
      <p>Linux 系统服务是在 Linux启动时自动加载，并在 Linux退出时自动停止的系统任务。在 Linux 启动过程中，我们可以看得很多 ”starting …“ 提示信息，该信息表示正在启动系统服务；而在 Linux 退出时，我们也能够看到相应的”Stopping …“ 信息，表示系统服务正在停止。Linux自身有许多系统任务，如 ”network“ 服务用于支持网络连接等。CAMS 在安装过程中，会自动加入三个系统任务，以保证在 Linux 启动时，CAMS 服务自动启动；而在 Linux 关闭时， CAMS 服务也自动停止。这三个服务分别是：</p>
<p>oracled      Oracle数据库服务</p>
<p>camsd        CAMS协议处理模块服务</p>
<p>tomcat4     Tomcat Web Server服务，用于支持CAMS配置管理台、自助服务平台、Portal服务平台及内容计费认证平台等；</p>
<p>Linux 系统的所有服务程序脚本均可以在 ”/etc/rc.d/init.d“ 文件夹中找到，每一项服务对应一个脚本文件。如果 CAMS 已经安装，我们可以在该文件夹下找到 ”oracled“、”camsd“  和 ”tomcat4“ 这三个文件。</p>

        <h5 id="4-6-2-启动和停止服务"   >
          <a href="#4-6-2-启动和停止服务" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-6-2-启动和停止服务" class="headerlink" title="4.6.2 启动和停止服务"></a>4.6.2 启动和停止服务</h5>
      <p>service命令用于启动及停止某个服务，例如：</p>
<p>service camsd stop     停止camsd服务</p>
<p>service oracled start      启动oracled服务</p>
<p>service tomcat4 start      启动tomcat4服务</p>
<p>CAMS 引入的三个服务间有依赖关系，即 camsd 服务和 tomcat4 服务依赖与oracled 服务，在 oracled 服务启动前不能启动 camsd 服务和 tomcat4 服务；而在 oracled 服务停止前必须先停止 camsd 服务和 tomcat4 服务。</p>

        <h5 id="4-6-3-服务的添加、删除、自动运行及状态"   >
          <a href="#4-6-3-服务的添加、删除、自动运行及状态" class="heading-link"><i class="fas fa-link"></i></a><a href="#4-6-3-服务的添加、删除、自动运行及状态" class="headerlink" title="4.6.3 服务的添加、删除、自动运行及状态"></a>4.6.3 服务的添加、删除、自动运行及状态</h5>
      <p>CAMS在安装过程中会自动添加相关的服务，在安装的最后过程中，会提示用户是否启动服务（使服务生效）。需要注意的是：一个服务被添加后，并不表示该服务在系统启动过程中会自动运行，仅表示可以使用service命令来启动、停止服务。</p>
<ol>
<li><p><strong>添加服务</strong></p>
<p>添加服务的步骤为：</p>
<ol>
<li><p>将该服务的脚本文件拷入”/etc/rc.d/init.d“ 文件夹下，保证其状态为”可执行“；</p>
</li>
<li><p>使用chkconfig命令将服务添加到服务列表中：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chkconfig --add camsd</span><br></pre></td></tr></table></div></figure>

<p>将服务添加以后，该服务即可以使用service来启动/停止了。</p>
</li>
</ol>
</li>
<li><p><strong>删除服务</strong></p>
<p>如果要删除服务，将上述命令的”add“改为”del“即可：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chkconfig --del camsd</span><br></pre></td></tr></table></div></figure></li>
<li><p><strong>设置服务自动运行</strong></p>
<p>Linux运行有7种运行级别，分别使用0-6来表示，控制台界面运行级别为3，图形界面运行级别为5。要使某服务在系统启动时自动运行，使用chkconfig将该服务添加到相应级别的自启动服务列表中即可：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chkconfig --level 35 camsd on</span><br></pre></td></tr></table></div></figure>

<p>上面的命令将camsd服务添加到级别为3、5的自启动服务列表中；而下面的命令则将服务camsd从级别为3、5的自启动服务列表中删除：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chkconfig --level 35 camsd off</span><br></pre></td></tr></table></div></figure>

<p>如果需要查看某项服务的自启动状态信息，使用如下命令即可：</p>
<figure class="highlight shell"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chkconfig --list camsd</span><br></pre></td></tr></table></div></figure></li>
</ol>
</div><footer class="post-footer"><div class="post-ending ending"><div class="ending__text">------ 本文结束，感谢您的阅读 ------</div></div><div class="post-copyright copyright"><div class="copyright-author"><span class="copyright-author__name">本文作者: </span><span class="copyright-author__value"><a href="http://garfielder.com">Garfield</a></span></div><div class="copyright-link"><span class="copyright-link__name">本文链接: </span><span class="copyright-link__value"><a href="http://garfielder.com/post/df41aea9.html">http://garfielder.com/post/df41aea9.html</a></span></div><div class="copyright-notice"><span class="copyright-notice__name">版权声明: </span><span class="copyright-notice__value">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="external nofollow" target="_blank">BY-NC-SA</a> 许可协议。转载请注明出处！</span></div></div><div class="post-tags"><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="http://garfielder.com/tags/Linux/">Linux</a></span></div><nav class="post-paginator paginator"><div class="paginator-prev"><a class="paginator-prev__link" href="/post/833438b6.html"><span class="paginator-prev__icon"><i class="fas fa-angle-left"></i></span><span class="paginator-prev__text">CentOS在VMWare上的安装简易教程</span></a></div><div class="paginator-next"><a class="paginator-next__link" href="/post/3af7fcdd.html"><span class="paginator-prev__text">MQTT的发布和订阅</span><span class="paginator-next__icon"><i class="fas fa-angle-right"></i></span></a></div></nav></footer></div></div><div class="comments" id="comments"><div id="valine-container"></div></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><div class="sidebar-nav"><span class="sidebar-nav-toc current">文章目录</span><span class="sidebar-nav-ov">站点概览</span></div><section class="sidebar-toc"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B"><span class="toc-number">1.</span> <span class="toc-text">
          Linux基础教程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8"><span class="toc-number">1.1.</span> <span class="toc-text">
          一、常用命令使用</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-1-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8"><span class="toc-number">1.1.1.</span> <span class="toc-text">
          1.1 常用命令使用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-1-1-%E7%99%BB%E5%BD%95%E5%92%8C%E9%80%80%E5%87%BALinux%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.1.1.1.</span> <span class="toc-text">
          1.1.1 登录和退出Linux系统</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-1-2-%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4"><span class="toc-number">1.1.1.2.</span> <span class="toc-text">
          1.1.2 文件和目录操作命令</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-1-3-%E7%94%A8%E6%88%B7%E5%8F%8A%E7%94%A8%E6%88%B7%E7%BB%84%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">1.1.1.3.</span> <span class="toc-text">
          1.1.3 用户及用户组管理命令</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-1-4-%E8%BF%9B%E7%A8%8B%E5%8F%8A%E4%BB%BB%E5%8A%A1%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">1.1.1.4.</span> <span class="toc-text">
          1.1.4 进程及任务管理命令</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-1-5-%E7%A3%81%E7%9B%98%E5%8F%8A%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86%E5%91%BD%E4%BB%A4"><span class="toc-number">1.1.1.5.</span> <span class="toc-text">
          1.1.5 磁盘及文件系统管理命令</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#1-1-6-%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E5%91%BD%E4%BB%A4"><span class="toc-number">1.1.1.6.</span> <span class="toc-text">
          1.1.6 软件安装命令</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%96%87%E4%BB%B6%E6%9F%A5%E7%9C%8B-%E7%BC%96%E8%BE%91%E6%96%B9%E6%B3%95%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.2.</span> <span class="toc-text">
          二、文件查看&#x2F;编辑方法介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-cat%E5%91%BD%E4%BB%A4%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.2.1.</span> <span class="toc-text">
          2.1 cat命令介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-vi%E5%91%BD%E4%BB%A4"><span class="toc-number">1.2.2.</span> <span class="toc-text">
          2.2 vi命令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-1-vi%E7%9A%84%E8%BF%9B%E5%85%A5%E4%B8%8E%E9%80%80%E5%87%BA"><span class="toc-number">1.2.2.1.</span> <span class="toc-text">
          2.2.1 vi的进入与退出</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-2-vi%E4%B8%AD%E6%98%BE%E7%A4%BA%E8%A1%8C%E5%8F%B7"><span class="toc-number">1.2.2.2.</span> <span class="toc-text">
          2.2.2 vi中显示行号</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-3-%E5%85%89%E6%A0%87%E7%A7%BB%E5%8A%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.2.3.</span> <span class="toc-text">
          2.2.3 光标移动操作</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-4-%E6%96%87%E6%9C%AC%E6%8F%92%E5%85%A5%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.2.4.</span> <span class="toc-text">
          2.2.4 文本插入操作</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-5-%E6%96%87%E6%9C%AC%E4%BF%AE%E6%94%B9%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.2.5.</span> <span class="toc-text">
          2.2.5 文本修改操作</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-2-6-%E6%96%87%E6%9C%AC%E6%90%9C%E7%B4%A2%E4%B8%8E%E6%9B%BF%E6%8D%A2%E6%93%8D%E4%BD%9C"><span class="toc-number">1.2.2.6.</span> <span class="toc-text">
          2.2.6 文本搜索与替换操作</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-3-head%E5%8F%8Atail%E5%91%BD%E4%BB%A4%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.2.3.</span> <span class="toc-text">
          2.3 head及tail命令介绍</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E5%8F%8A%E6%93%8D%E4%BD%9C"><span class="toc-number">1.3.</span> <span class="toc-text">
          三、网络配置及操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-1-%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E5%91%BD%E4%BB%A4"><span class="toc-number">1.3.1.</span> <span class="toc-text">
          3.1 网络配置命令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-1-1-ifconfig"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">
          3.1.1 ifconfig</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-1-2-route"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">
          3.1.2 route</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-2-%E7%BD%91%E7%BB%9C%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4"><span class="toc-number">1.3.2.</span> <span class="toc-text">
          3.2 网络操作命令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-2-1-netstat"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">
          3.2.1 netstat</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-2-2-nslookup"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">
          3.2.2 nslookup</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-2-3-host"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">
          3.2.3 host</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-2-4-finger"><span class="toc-number">1.3.2.4.</span> <span class="toc-text">
          3.2.4 finger</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-2-5-Ping%E5%91%BD%E4%BB%A4"><span class="toc-number">1.3.2.5.</span> <span class="toc-text">
          3.2.5 Ping命令</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-3-%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.3.3.</span> <span class="toc-text">
          3.3 常用网络配置文件介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-1-etc-sysconfig-network-%E7%BD%91%E7%BB%9C%E8%AE%BE%E7%BD%AE"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">
          3.3.1 &#x2F;etc&#x2F;sysconfig&#x2F;network 网络设置</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-2-2-etc-hosts-IP-%E5%9C%B0%E5%9D%80%E5%92%8C%E4%B8%BB%E6%9C%BA%E5%90%8D%E7%9A%84%E6%98%A0%E5%B0%84"><span class="toc-number">1.3.3.2.</span> <span class="toc-text">
          3.2.2 &#x2F;etc&#x2F;hosts IP 地址和主机名的映射</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-3-etc-services"><span class="toc-number">1.3.3.3.</span> <span class="toc-text">
          3.3.3 &#x2F;etc&#x2F;services</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-4-etc-host-conf-%E9%85%8D%E7%BD%AE%E5%90%8D%E5%AD%97%E8%A7%A3%E6%9E%90%E5%99%A8"><span class="toc-number">1.3.3.4.</span> <span class="toc-text">
          3.3.4 &#x2F;etc&#x2F;host.conf 配置名字解析器</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-5-etc-nsswitch-conf-%E9%85%8D%E7%BD%AE%E5%90%8D%E5%AD%97%E8%A7%A3%E6%9E%90%E5%99%A8"><span class="toc-number">1.3.3.5.</span> <span class="toc-text">
          3.3.5 &#x2F;etc&#x2F;nsswitch.conf 配置名字解析器</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-6-etc-resolv-conf-%E9%85%8D%E7%BD%AE-DNS-%E5%AE%A2%E6%88%B7"><span class="toc-number">1.3.3.6.</span> <span class="toc-text">
          3.3.6 &#x2F;etc&#x2F;resolv.conf 配置 DNS 客户</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-7-etc-xinetd-conf"><span class="toc-number">1.3.3.7.</span> <span class="toc-text">
          3.3.7 &#x2F;etc&#x2F;xinetd.conf</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-8-etc-modules-conf-%E6%96%87%E4%BB%B6"><span class="toc-number">1.3.3.8.</span> <span class="toc-text">
          3.3.8 &#x2F;etc&#x2F;modules.conf 文件</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-3-9-etc-sysconfig-network-scripts-ifcfg-ethN-%E6%96%87%E4%BB%B6"><span class="toc-number">1.3.3.9.</span> <span class="toc-text">
          3.3.9 &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-ethN 文件</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-4%E5%B8%B8%E7%94%A8%E7%BD%91%E7%BB%9C%E6%93%8D%E4%BD%9C%E6%96%B9%E6%B3%95"><span class="toc-number">1.3.4.</span> <span class="toc-text">
          3.4常用网络操作方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#3-4-1-ftp%E8%BF%9C%E7%A8%8B%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93"><span class="toc-number">1.3.4.1.</span> <span class="toc-text">
          3.4.1 ftp远程文件传输</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-4-2-telnet"><span class="toc-number">1.3.4.2.</span> <span class="toc-text">
          3.4.2 telnet</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-4-3-r-%E7%B3%BB%E5%88%97%E5%91%BD%E4%BB%A4"><span class="toc-number">1.3.4.3.</span> <span class="toc-text">
          3.4.3 r- 系列命令</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E5%B8%B8%E7%94%A8%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7"><span class="toc-number">1.4.</span> <span class="toc-text">
          四、常用使用技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-Linux%E4%B8%8B%E8%BD%AF%E4%BB%B6%E5%8C%85%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E5%8D%B8%E8%BD%BD"><span class="toc-number">1.4.1.</span> <span class="toc-text">
          4.1 Linux下软件包的安装及卸载</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#4-1-1-RPM%E5%AE%89%E8%A3%85%E6%93%8D%E4%BD%9C"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">
          4.1.1 RPM安装操作</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-1-2-RPM%E6%9F%A5%E8%AF%A2%E6%93%8D%E4%BD%9C"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">
          4.1.2 RPM查询操作</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-1-3-RPM%E5%8D%B8%E8%BD%BD%E6%93%8D%E4%BD%9C"><span class="toc-number">1.4.1.3.</span> <span class="toc-text">
          4.1.3 RPM卸载操作</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-1-4-RPM%E5%8D%87%E7%BA%A7%E6%93%8D%E4%BD%9C"><span class="toc-number">1.4.1.4.</span> <span class="toc-text">
          4.1.4 RPM升级操作</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-1-5-RPM%E9%AA%8C%E8%AF%81%E6%93%8D%E4%BD%9C"><span class="toc-number">1.4.1.5.</span> <span class="toc-text">
          4.1.5 RPM验证操作</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-1-6-RPM%E7%9A%84%E5%85%B6%E4%BB%96%E9%99%84%E5%8A%A0%E5%91%BD%E4%BB%A4"><span class="toc-number">1.4.1.6.</span> <span class="toc-text">
          4.1.6 RPM的其他附加命令</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-2-Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E6%97%B6%E9%92%9F%E6%95%99%E7%A8%8B"><span class="toc-number">1.4.2.</span> <span class="toc-text">
          4.2 Linux操作系统的时钟教程</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#4-2-1-%E6%97%B6%E9%92%9F%E7%B3%BB%E7%BB%9F%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">
          4.2.1 时钟系统介绍</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-2-2-%E7%A1%AC%E4%BB%B6%E6%97%B6%E9%92%9F%E7%B3%BB%E7%BB%9F%E4%B8%8E%E7%B3%BB%E7%BB%9F%E6%97%B6%E9%97%B4%E7%9A%84%E5%90%8C%E6%AD%A5"><span class="toc-number">1.4.2.2.</span> <span class="toc-text">
          4.2.2 硬件时钟系统与系统时间的同步</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-3-%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF%E5%8F%8A%E8%BF%90%E8%A1%8C%E7%8A%B6%E6%80%81%E7%9B%91%E6%8E%A7"><span class="toc-number">1.4.3.</span> <span class="toc-text">
          4.3 系统信息及运行状态监控</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#4-3-1-df%E5%91%BD%E4%BB%A4"><span class="toc-number">1.4.3.1.</span> <span class="toc-text">
          4.3.1 df命令</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-3-2-du%E5%91%BD%E4%BB%A4"><span class="toc-number">1.4.3.2.</span> <span class="toc-text">
          4.3.2 du命令</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-3-3-top%E5%91%BD%E4%BB%A4"><span class="toc-number">1.4.3.3.</span> <span class="toc-text">
          4.3.3 top命令</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-3-4-iostat%E5%91%BD%E4%BB%A4"><span class="toc-number">1.4.3.4.</span> <span class="toc-text">
          4.3.4 iostat命令</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-4-%E6%89%93%E5%8C%85-%E5%8E%8B%E7%BC%A9%E5%B7%A5%E5%85%B7tar"><span class="toc-number">1.4.4.</span> <span class="toc-text">
          4.4 打包&#x2F;压缩工具tar</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-5-%E6%96%87%E4%BB%B6%E5%8F%8A%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E7%9A%84%E6%9F%A5%E6%89%BE"><span class="toc-number">1.4.5.</span> <span class="toc-text">
          4.5 文件及文件内容的查找</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#4-5-1-%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE%E5%91%BD%E4%BB%A4find"><span class="toc-number">1.4.5.1.</span> <span class="toc-text">
          4.5.1 文件查找命令find</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-5-2-%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E6%9F%A5%E6%89%BE%E5%91%BD%E4%BB%A4grep"><span class="toc-number">1.4.5.2.</span> <span class="toc-text">
          4.5.2 文件内容查找命令grep</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-6-Linux%E7%9A%84%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1%E5%8F%8A%E5%85%B6%E9%85%8D%E7%BD%AE"><span class="toc-number">1.4.6.</span> <span class="toc-text">
          4.6 Linux的系统服务及其配置</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#4-6-1-%E6%9C%8D%E5%8A%A1%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.4.6.1.</span> <span class="toc-text">
          4.6.1 服务介绍</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-6-2-%E5%90%AF%E5%8A%A8%E5%92%8C%E5%81%9C%E6%AD%A2%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.4.6.2.</span> <span class="toc-text">
          4.6.2 启动和停止服务</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-6-3-%E6%9C%8D%E5%8A%A1%E7%9A%84%E6%B7%BB%E5%8A%A0%E3%80%81%E5%88%A0%E9%99%A4%E3%80%81%E8%87%AA%E5%8A%A8%E8%BF%90%E8%A1%8C%E5%8F%8A%E7%8A%B6%E6%80%81"><span class="toc-number">1.4.6.3.</span> <span class="toc-text">
          4.6.3 服务的添加、删除、自动运行及状态</span></a></li></ol></li></ol></li></ol></li></ol></section><!-- ov = overview--><section class="sidebar-ov hide"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="https://i.loli.net/2021/03/09/b1rHUNsg9GdK2S5.jpg" alt="avatar"></div><p class="sidebar-ov-author__text">Stay hungry. Stay foolish.</p></div><div class="sidebar-ov-social"><a class="sidebar-ov-social-item" href="https://github.com/GarfieldCCC" target="_blank" rel="noopener" data-popover="Github" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-github"></i></span></a><a class="sidebar-ov-social-item" href="https://www.jianshu.com/u/e8214c6701c6" target="_blank" rel="noopener" data-popover="简书" data-popover-pos="up"><span class="sidebar-ov-social-item__icon">简</span></a><a class="sidebar-ov-social-item" href="https://segmentfault.com/u/garfield_598ab2e99b0c5" target="_blank" rel="noopener" data-popover="思否" data-popover-pos="up"><span class="sidebar-ov-social-item__icon">sf</span></a><a class="sidebar-ov-social-item" href="https://www.zhihu.com/people/garfield-21-38" target="_blank" rel="noopener" data-popover="知乎" data-popover-pos="up"><span class="sidebar-ov-social-item__icon">知</span></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="知识共享许可协议" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section><div class="sidebar-reading"><div class="sidebar-reading-info"><span class="sidebar-reading-info__text">你已阅读了 </span><span class="sidebar-reading-info__num">0</span><span class="sidebar-reading-info__perc">%</span></div><div class="sidebar-reading-line"></div></div></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2022</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span>Garfield</span></div><div><span>由 <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a> 强力驱动</span><span> v5.4.0</span><span class="footer__devider">|</span><span>主题 - <a href="https://github.com/liuyib/hexo-theme-stun/" title="Stun" target="_blank" rel="noopener">Stun</a></span><span> v2.6.2</span></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><div class="search-mask"></div><div class="search-popup"><span class="search-close"></span><div class="search-input"><input placeholder="搜索文章（支持多关键词，请用空格分隔）"></div><div class="search-results"></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="https://cdn.jsdelivr.net/npm/ribbon.js@latest/dist/ribbon.min.js" size="120" alpha="0.6" zIndex="-1"></script><script src="https://cdn.jsdelivr.net/npm/canvas-nest.js@1.0.1/dist/canvas-nest.min.js" color="0,0,0" opacity="0.6" count="99" zIndex="-1"></script><script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/lazyload@2.0.0-rc.2/lazyload.min.js"></script><script>function initSearch() {
  var isXML = true;
  var search_path = 'search.json';

  if (!search_path) {
    search_path = 'search.xml';
  } else if (/json$/i.test(search_path)) {
    isXML = false;
  }

  var path = '/' + search_path;
  $.ajax({
    url: path,
    dataType: isXML ? 'xml' : 'json',
    async: true,
    success: function (res) {
      var datas = isXML ? $('entry', res).map(function () {
        // 将 XML 转为 JSON
        return {
          title: $('title', this).text(),
          content: $('content', this).text(),
          url: $('url', this).text()
        };
      }).get() : res;
      var $input = $('.search-input input');
      var $result = $('.search-results');
      // 搜索对象（标题、内容）的权重，影响显示顺序
      var WEIGHT = { title: 100, content: 1 };
      var searchPost = function () {
        var searchText = $input.val().toLowerCase().trim();
        // 根据空白字符分隔关键字
        var keywords = searchText.split(/[\s]+/);
        // 搜索结果
        var matchPosts = [];

        // 有多个关键字时，将原文字整个保存下来
        if (keywords.length > 1) {
          keywords.push(searchText);
        }
        // 防止未输入字符时搜索
        if (searchText.length > 0) {
          datas.forEach(function (data) {
            var isMatch  = false;
            // 没有标题的文章使用预设的 i18n 变量代替
            var title = (data.title && data.title.trim()) || '[ 文章无标题 ]';
            var titleLower = title && title.toLowerCase();
            // 删除 HTML 标签 和 所有空白字符
            var content = data.content && data.content.replace(/<[^>]+>/g, '');
            var contentLower = content && content.toLowerCase();
            // 删除重复的 /
            var postURL = data.url && decodeURI(data.url).replace(/\/{2,}/g, '/');
            // 标题中匹配到的关键词
            var titleHitSlice = [];
            // 内容中匹配到的关键词
            var contentHitSlice = [];

            keywords.forEach(function (keyword) {
              /**
              * 获取匹配的关键词的索引
              * @param {String} keyword 要匹配的关键字
              * @param {String} text 原文字
              * @param {Boolean} caseSensitive 是否区分大小写
              * @param {Number} weight 匹配对象的权重。权重大的优先显示
              * @return {Array}
              */
              function getIndexByword (word, text, caseSensitive, weight) {
                if (!word || !text) {
                  return [];
                };

                var startIndex = 0; // 每次匹配的开始索引
                var index = -1;     // 匹配到的索引值
                var result = [];    // 匹配结果

                if (!caseSensitive) {
                  word = word.toLowerCase();
                  text = text.toLowerCase();
                }

                while((index = text.indexOf(word, startIndex)) !== -1) {
                  var hasMatch = false;
                  // 索引位置相同的关键词，保留长度较长的
                  titleHitSlice.forEach(function (hit) {
                    if (hit.index === index && hit.word.length < word.length) {
                      hit.word = word;
                      hasMatch = true;
                    }
                  });
                  startIndex = index + word.length;
                  !hasMatch && result.push({ index: index, word: word, weight: weight });
                }
                return result;
              }
              titleHitSlice = titleHitSlice.concat(getIndexByword(keyword, titleLower, false, WEIGHT.title));
              contentHitSlice = contentHitSlice.concat(getIndexByword(keyword, contentLower, false, WEIGHT.content));
            });

            var hitTitle = titleHitSlice.length;
            var hitContent = contentHitSlice.length;

            if (hitTitle > 0 || hitContent > 0) {
              isMatch = true;
            }
            if (isMatch) {
              ;[titleHitSlice, contentHitSlice].forEach(function (hit) {
                // 按照匹配文字的索引的递增顺序排序
                hit.sort(function (left, right) {
                  return left.index - right.index;
                });
              });
              /**
              * 给文本中匹配到的关键词添加标记，从而进行高亮显示
              * @param {String} text 原文本
              * @param {Array} hitSlice 匹配项的索引信息
              * @param {Number} start 开始索引
              * @param {Number} end 结束索引
              * @return {String}
              */
              function highlightKeyword (text, hitSlice, start, end) {
                if (!text || !hitSlice || !hitSlice.length) {
                  return;
                }

                var result = '';
                var startIndex = start;
                var endIndex = end;
                hitSlice.forEach(function (hit) {
                  if (hit.index < startIndex) {
                    return;
                  }

                  var hitWordEnd = hit.index + hit.word.length;
                  result += text.slice(startIndex, hit.index);
                  result += '<b>' + text.slice(hit.index, hitWordEnd) + '</b>';
                  startIndex = hitWordEnd;
                });
                result += text.slice(startIndex, endIndex);
                return result;
              }

              var postData = {};
              // 文章总的搜索权重
              var postWeight = titleHitSlice.length * WEIGHT.title + contentHitSlice.length * WEIGHT.content;
              // 标记匹配关键词后的标题
              var postTitle = highlightKeyword(title, titleHitSlice, 0, title.length) || title;
              // 标记匹配关键词后的内容
              var postContent;
              // 显示内容的长度
              var SHOW_WORD_LENGTH = 200;
              // 命中关键词前的字符显示长度
              var SHOW_WORD_FRONT_LENGTH = 20;
              var SHOW_WORD_END_LENGTH = SHOW_WORD_LENGTH - SHOW_WORD_FRONT_LENGTH;

              // 截取匹配的第一个字符，前后共 200 个字符来显示
              if (contentHitSlice.length > 0) {
                var firstIndex = contentHitSlice[0].index;
                var start = firstIndex > SHOW_WORD_FRONT_LENGTH ? firstIndex - SHOW_WORD_FRONT_LENGTH : 0;
                var end = firstIndex + SHOW_WORD_END_LENGTH;
                postContent = highlightKeyword(content, contentHitSlice, start, end);
              } else { // 未匹配到内容，直接截取前 200 个字符来显示
                postContent = content.slice(0, SHOW_WORD_LENGTH);
              }
              postData.title = postTitle;
              postData.content = postContent;
              postData.url = postURL;
              postData.weight = postWeight;
              matchPosts.push(postData);
            }
          });
        }

        var resultInnerHtml = '';
        if (matchPosts.length) {
          // 按权重递增的顺序排序，使权重大的优先显示
          matchPosts.sort(function (left, right) {
            return right.weight - left.weight;
          });
          resultInnerHtml += '<ul>';
          matchPosts.forEach(function (post) {
            resultInnerHtml += '<li><a class="search-results-title" href="' + post.url + '">';
            resultInnerHtml += post.title;
            resultInnerHtml += '</a><div class="search-results-content">';
            resultInnerHtml += post.content;
            resultInnerHtml += '</div></li>';
          });
          resultInnerHtml += '</ul>';
        } else {
          resultInnerHtml += '<div class="search-results-none"><i class="far fa-meh"></i></div>';
        }
        $result.html(resultInnerHtml);
      };
      $input.on('input', searchPost);
      $input.on('keyup', function (e) {
        if (e.keyCode === Stun.utils.codeToKeyCode('Enter')) {
          searchPost();
        }
      });
    }
  });
}

function closeSearch () {
  $('body').css({ overflow: 'auto' });
  $('.search-popup').css({ display: 'none' });
  $('.search-mask').css({ display: 'none' });
}

window.addEventListener('DOMContentLoaded', function () {
  Stun.utils.pjaxReloadLocalSearch = function () {
    $('.header-nav-search').on('click', function (e) {
      e.stopPropagation();
      $('body').css('overflow', 'hidden');
      $('.search-popup')
        .velocity('stop')
        .velocity('transition.expandIn', {
          duration: 300,
          complete: function () {
            $('.search-popup input').focus();
          }
        });
      $('.search-mask')
        .velocity('stop')
        .velocity('transition.fadeIn', {
          duration: 300
        });

      initSearch();
    });
    $('.search-mask, .search-close').on('click', function () {
      closeSearch();
    });
    $(document).on('keydown', function (e) {
      // Escape <=> 27
      if (e.keyCode === Stun.utils.codeToKeyCode('Escape')) {
        closeSearch();
      }
    });
  };

  Stun.utils.pjaxReloadLocalSearch();
}, false);

function safeOpenUrl(url) {
  var newTab = window.open();
  newTab.opener = null;
  newTab.location = url;
}

function extSearch(engine) {
  var engines = {
    google: 'https://www.google.com/search?q=',
    bing: 'https://cn.bing.com/search?q=',
    baidu: 'https://www.baidu.com/s?ie=UTF-8&wd=',
  };
  var host = window.location.host;
  var query = $('.search-input input').val().toLowerCase().trim();
  var uri = engines[engine] + query + ' site:' + host;

  if (query) {
    safeOpenUrl(uri);
  } else {
    Stun.utils.popAlert('warning', '请输入字符');
  }
}

var assistSearchList = window.CONFIG.assistSearch;

if (Array.isArray(assistSearchList)) {
  assistSearchList.forEach(function (name) {
    document.querySelector('.search-btns-item--' + name).addEventListener('click', function () {
      extSearch(name);
    }, false);
  });
}</script><script src="https://cdn.jsdelivr.net/npm/pjax@latest/pjax.min.js"></script><script>window.addEventListener('DOMContentLoaded', function () {
  var pjax = new Pjax({"selectors":["head title","#main",".pjax-reload",".header-inner"],"history":true,"scrollTo":false,"scrollRestoration":false,"cacheBust":false,"debug":false,"currentUrlFullReload":false,"timeout":0});
  // 加载进度条的计时器
  var loadingTimer = null;

  // 重置页面 Y 方向上的滚动偏移量
  document.addEventListener('pjax:send', function () {
    $('.header-nav-menu').removeClass('show');
    if (CONFIG.pjax && CONFIG.pjax.avoidBanner) {
      $('html').velocity('scroll', {
        duration: 500,
        offset: $('#header').height(),
        easing: 'easeInOutCubic'
      });
    }

    var loadingBarWidth = 20;
    var MAX_LOADING_WIDTH = 95;

    $('.loading-bar').addClass('loading');
    $('.loading-bar__progress').css('width', loadingBarWidth + '%');
    clearInterval(loadingTimer);
    loadingTimer = setInterval(function () {
      loadingBarWidth += 3;
      if (loadingBarWidth > MAX_LOADING_WIDTH) {
        loadingBarWidth = MAX_LOADING_WIDTH;
      }
      $('.loading-bar__progress').css('width', loadingBarWidth + '%');
    }, 500);
  }, false);

  window.addEventListener('pjax:complete', function () {
    clearInterval(loadingTimer);
    $('.loading-bar__progress').css('width', '100%');
    $('.loading-bar').removeClass('loading');
    setTimeout(function () {
      $('.loading-bar__progress').css('width', '0');
    }, 400);
    $('link[rel=prefetch], script[data-pjax-rm]').each(function () {
      $(this).remove();
    });
    $('script[data-pjax], #pjax-reload script').each(function () {
      $(this).parent().append($(this).remove());
    });

    if (Stun.utils.pjaxReloadBoot) {
      Stun.utils.pjaxReloadBoot();
    }
    if (Stun.utils.pjaxReloadScroll) {
      Stun.utils.pjaxReloadScroll();
    }
    if (Stun.utils.pjaxReloadSidebar) {
      Stun.utils.pjaxReloadSidebar();
    }
    if (true) {
      if (Stun.utils.pjaxReloadHeader) {
        Stun.utils.pjaxReloadHeader();
      }
      if (Stun.utils.pjaxReloadScrollIcon) {
        Stun.utils.pjaxReloadScrollIcon();
      }
      if (Stun.utils.pjaxReloadLocalSearch) {
        Stun.utils.pjaxReloadLocalSearch();
      }
    }
  }, false);
}, false);</script><div id="pjax-reload"><link href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" rel="stylesheet" type="text/css"><link href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/copy-tex.css" rel="stylesheet" type="text/css"><script src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/copy-tex.min.js"></script><script src="https://cdn.jsdelivr.net/npm/quicklink@1.0.1/dist/quicklink.umd.js"></script><script>function initQuicklink() {
  quicklink({
    timeout: '10000',
    priority: true,
    ignores: [uri => uri.includes('#'), uri => uri === 'http://garfielder.com/post/df41aea9.html', /\/api\/?/,uri => uri.includes('.xml'),uri => uri.includes('.zip'),(uri, el) => el.hasAttribute('nofollow'),(uri, el) => el.hasAttribute('noprefetch')]
  });
}

if (true || false) {
  initQuicklink();
} else {
  window.addEventListener('DOMContentLoaded', initQuicklink, false);
}</script></div><script src="https://cdn.jsdelivr.net/npm/leancloud-storage@latest/dist/av-min.js"></script><script src="https://cdn.jsdelivr.net/npm/valine@latest/dist/Valine.min.js"></script><script data-pjax="">function loadValine () {
  var GUEST_INFO = ['nick', 'mail', 'link'];
  var guest_info = 'nick,mail,link';

  guest_info = guest_info.split(',').filter(function(item) {
    return GUEST_INFO.indexOf(item) > -1;
  });
  new Valine({
    el: '#valine-container',
    appId: '7QW51uURwmFEJVmXD4UC943o-gzGzoHsz',
    appKey: 'UTbCV1BcSh71YxpBEu7wG05I',
    notify: true,
    verify: true,
    placeholder: 'Comment...',
    avatar: 'mp',
    meta: guest_info,
    pageSize: '10' || 10,
    visitor: false,
    recordIP: false,
    lang: '' || 'zh-cn',
    path: window.location.pathname
  });
}

if (true) {
  loadValine();
} else {
  window.addEventListener('DOMContentLoaded', loadValine, false);
}</script><script src="/js/utils.js?v=2.6.2"></script><script src="/js/stun-boot.js?v=2.6.2"></script><script src="/js/scroll.js?v=2.6.2"></script><script src="/js/header.js?v=2.6.2"></script><script src="/js/sidebar.js?v=2.6.2"></script><script type="application/json" src="/search.json"></script></body></html>